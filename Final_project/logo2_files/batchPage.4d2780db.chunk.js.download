(this["webpackJsonp@pa/web-editor"]=this["webpackJsonp@pa/web-editor"]||[]).push([[29],{1007:function(e,t,o){"use strict";var r=o(4),n=o(7),a=o.n(n),i=o(10),c=o(15),l=o(3),s=o(402),u=o(1029),d=o.n(u),b=o(110),p=o.n(b),j=o(18),h=o.n(j),f=o(433),g=o(27),m=o(24),v=o(20),O=o(853),x=o(934),C=o(885),k=o(886),y=o(194),w=o(119),S=o(913),I=o(1),N=o(955),R=o(74),T=o(131),z=o(83),B=o(9),E=o(2),A=o(44),W=o(53),P=o(196),D=Object(A.b)((function(e){return{container:{display:"flex"},loaderContainer:{position:"absolute",zIndex:W.J,top:"50%",transform:"translate(0, -50%)"},loaderIcon:{"& img":{width:"41px!important",height:"41px!important",position:"inherit",top:"auto",left:"auto",transform:"none"}},skeletonContainer:{position:"absolute",zIndex:W.a.Base,top:"50%",transform:"translate(-50%, -50%)",left:"50%"},EraserPage:{position:"absolute",zIndex:W.y,width:"100%",height:"100%",backgroundColor:e.colors.paColor9},eraserStageMain:{width:"100%",height:"calc(100vh - ".concat(P.b,"px)"),display:"flex",position:"relative",alignItems:"center",flexDirection:"column",backgroundColor:e.colors.paColor109,padding:"20px 0",flexShrink:1,overflow:"hidden"},eraserStageMainZoomed:{padding:0},eraserStageWrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"relative",alignItems:"center",justifyContent:"center"},eraserStageContainer:{position:"relative",display:"flex",width:"100%",height:"100%"},eraserStageContainerNotZoom:{flexDirection:"column",justifyContent:"center",alignItems:"center"},eraserStageContainerVertical:{alignItems:"center"},eraserStageContainerCenter:{justifyContent:"center"},canvasFooterWrapper:{display:"flex",justifyContent:"center",flexWrap:"wrap",'& [class*="pw-dropdown_label"]':{height:52,background:e.colors.paColor9,color:e.colors.paColor5,fontWeight:600,"& path":{fill:e.colors.paColor5},"&::before":{border:"none"}}},canvasFooterWrapperZoomed:{position:"absolute",bottom:20}}})),M=Object(A.b)((function(e){return{eraserHeader:{width:"100%",height:P.b,backgroundColor:e.colors.paColor9,display:"flex",justifyContent:"space-between",borderBottom:"2px solid ".concat(e.colors.paColor109)},eraser:{height:20,float:"left",fontSize:16,fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",letterSpacing:"normal",color:e.colors.paColor6,margin:"21px 25px",fontWeight:600},cancelApplyContainer:{display:"flex",verticalAlign:"baseline"},cancel:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",color:e.colors.paColor6,fontSize:14,lineHeight:"17px",cursor:"pointer"},mainSettings:{fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",letterSpacing:"normal"},apply:{display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",margin:"8px 10px 8px 24px",padding:"0 28px",minWidth:99,height:46,color:e.colors.paColor9,fontSize:14,fontStyle:"normal",fontWeight:600,lineHeight:"17px",backgroundColor:e.colors.paColor1,borderRadius:e.variables.mainBorderRadius,cursor:"pointer"},hoverApply:{"&:hover":{backgroundColor:e.colors.paColor44}},disabledButton:Object(E.a)({},e.variables.effectItemDisabledState),disabledApply:{backgroundColor:e.colors.paColor2}}})),L=Object(A.b)((function(e){return{eraserDrawnToolsContainer:{position:"relative",width:P.e,height:"100%",textAlign:"center",backgroundColor:e.colors.paColor9,zIndex:W.a.Base},eraserDrawnSettingsContainer:{borderLeft:"2px solid ".concat(e.colors.paColor109)},eraserDrawnToolsContainerScroller:{position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%",textAlign:"center",backgroundColor:e.colors.paColor9,display:"flex",justifyContent:"space-between",flexDirection:"column",overflowY:"auto","-weibkit-overflow-scrolling":"touch"},sliderBarToolsContainer:{marginTop:5},deselectedTool:{color:e.colors.paColor8},toolIconName:{marginTop:4,fontSize:12,fontStyle:"normal",fontStretch:"normal",letterSpacing:"normal",fontWeight:500,lineHeight:"16px",color:e.colors.paColor10},hoverIconName:{color:e.colors.paColor6},mainSettings:{fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",letterSpacing:"normal",whiteSpace:"nowrap",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},sidebarTools:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:17,marginTop:17,width:80,marginLeft:3},toolContainer:{display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",width:70,height:64,cursor:"pointer",fontSize:12,color:e.colors.paColor10},sidebarCategoryIndicator:Object(E.a)(Object(E.a)({},e.variables.sidebarCategoryIndicator),{},{left:0}),hoverToolContainer:{"&:hover":{"& path":{fill:e.colors.paColor6},"& p":{color:e.colors.paColor6}}},hoverCutoutContainer:{"&:hover":{"& path":{stroke:e.colors.paColor6}}},disabledBrush:{opacity:.5,cursor:"default"},eraserSidebarContainer:{display:"flex",flexShrink:0},visibilitySidebarIcon:Object(E.a)(Object(E.a)({},e.variables.visibilitySidebarLayerIcon),{},{position:"fixed",width:26,height:30,left:"".concat(e.variables.sidebarCategoryWidth+e.variables.sidebarItemsWidth,"px"),top:"50%",transform:"translateY(-50%)",cursor:"pointer",zIndex:W.eb}),arrowIcon:Object(E.a)({},e.variables.arrowIcon),selectedToolLeftIcon:{height:46,width:3,position:"absolute",left:0,marginTop:-1},toolIcons:{verticalAlign:"top",display:"inline-block",width:e.variables.iconSize,height:e.variables.iconSize,"& svg path":{fill:e.colors.paColor10}},activeToolIcon:{"& svg path":{fill:e.colors.paColor1}}}})),H=Object(A.b)({stage:{display:"flex",justifyContent:"center",cursor:I.vh.editorOnly?"default":"none"}}),_=Object(A.b)({historyTools:{marginBottom:22,left:16}}),F=Object(A.b)((function(e){return{settingsContainer:{margin:"24px 24px 0 26px",background:e.colors.paColor9},settingIcon:{fontSize:20},rangeWrapper:{display:"flex",alignItems:"center"},inputRange:{position:"relative",borderRadius:e.variables.mainBorderRadius,cursor:"pointer","-webkit-appearance":"none",height:1,outline:"none",width:244,zIndex:W.a.Above,"&::-webkit-slider-thumb":{"-webkit-appearance":"none",appearance:"none",width:14,height:14,cursor:"pointer",borderRadius:2,boxSizing:"border-box",background:e.colors.paColor9,border:"1px solid ".concat(e.colors.paColor14)},"&::-moz-range-thumb":{"-webkit-appearance":"none",appearance:"none",width:14,height:14,cursor:"pointer",borderRadius:2,boxSizing:"border-box",background:e.colors.paColor9,border:"1px solid ".concat(e.colors.paColor14)},"&::-moz-focus-outer":{border:"none"}},inputRangContainer:{display:"flex",flexDirection:"column",marginBottom:12,justifyContent:"space-around"},rangeWrap:{position:"relative","&::before, &::after":{content:"''",display:"block",height:"1px",position:"absolute",top:"50%",left:"0",right:"0",opacity:"0.7",transform:"translateY(-50%)"},"&::before":{background:e.colors.paColor3,width:"var(--progressValue)",zIndex:W.a.Above},"&::after":{background:e.colors.paColor13}},settingName:{marginBottom:-6,float:"left",fontSize:12,color:e.colors.paColor10,fontStyle:"normal",fontWeight:500,lineHeight:"16px",userSelect:"none"},settingValue:{float:"right",width:58,height:40,marginLeft:8,display:"flex",textAlign:"center",border:"1px solid ".concat(e.colors.paColor2),borderRadius:4,fontSize:14,color:e.colors.paColor8,fontStyle:"normal",lineHeight:"17px","-moz-appearance":"textfield","&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0,"-moz-appearance":"textfield"},"&:hover":{border:"1px solid ".concat(e.colors.paColor7)},"&:focus":{border:"1px solid ".concat(e.colors.paColor6)}},cutoutSettingsContainer:{display:"flex",margin:"22px 8px 0 20px"},currentImgContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:154,height:154,marginRight:12,cursor:"pointer",backgroundColor:e.colors.paColor9,border:"2px solid transparent","& object":{width:"100%",height:"100%"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:e.variables.mainBorderRadius,position:"absolute"},applyHover:{"&:hover":{border:"2px solid ".concat(e.colors.paColor2),borderRadius:e.variables.mainBorderRadius,cursor:"pointer","&:before":{content:'""',width:"100%",height:"100%",border:"4px solid ".concat(e.colors.paColor9),zIndex:W.a.Above,borderRadius:e.variables.mainBorderRadius},"& object":{width:"100%",height:"100%"}}},disabledState:Object(E.a)({},e.variables.effectItemDisabledState),appliedRemoverTool:{cursor:"default",width:154,height:154,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.variables.mainBorderRadius,position:"relative",border:"2px solid ".concat(e.colors.paColor6),backgroundColor:e.colors.paColor9,"&:before":{content:'""',width:"100%",height:"100%",border:"4px solid ".concat(e.colors.paColor9),zIndex:W.a.Above,borderRadius:e.variables.mainBorderRadius},"& object":{width:"100%",height:"100%"}},cutoutTitle:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",left:10,bottom:10,color:e.colors.paColor9,width:66,height:20,background:e.colors.paColor6,borderRadius:3,fontStyle:"normal",fontWeight:500,fontSize:9,lineHeight:"11px"},crown:{zIndex:W.a.Above}}})),G=Object(A.b)((function(e){return{eraserLayer:{width:P.c,float:"right",height:"100%",display:"flex",justifyContent:"center",paddingTop:10},currentLayerContainer:{width:80,height:72,borderRadius:e.variables.mainBorderRadius,border:"2px solid ".concat(e.colors.paColor6)},layerImg:{objectFit:"cover",width:76,height:68,borderRadius:e.variables.mainBorderRadius,padding:4},eraserLayersContainer:{flexShrink:0,position:"sticky"},tooltipContainer:{position:"absolute",top:18,right:18,zIndex:W.a.Base,cursor:"pointer","& > div":{marginRight:9,marginLeft:9},"& .crow-icon-container":{width:14,height:14,"& img":{width:6,height:6}}},crownIcon:Object(E.a)({},e.variables.crownIcon)}})),U=D,$=o(954),K=o(354),Z=o(0),Y=o(936),V=o(14),q=o(51),J=o(414),X=o(417),Q=o(409),ee=o(5),te=function(e){var t=e.firstCircleColor,o=e.secondCircleColor,r=e.containerRef,n=e.settings,s=e.onChange,u=e.onAction,d=e.scale,b=e.children,p=e.actionsIsBlock,j=Object(l.useRef)(null),h=Object(l.useRef)(null),f=Object(l.useState)(!1),g=Object(c.a)(f,2),m=g[0],v=g[1],O=Object(l.useState)([]),x=Object(c.a)(O,2),C=x[0],k=x[1],y=Object(l.useState)(null),w=Object(c.a)(y,2),S=w[0],N=w[1],R=Object(l.useMemo)((function(){return n[P.h.SIZE]*(n[P.h.HARDNESS]/100)}),[n]),T=Object(l.useMemo)((function(){return 2*(n[P.h.SIZE]-R)}),[n,R]),z=T/I.yh,B=Object(l.useCallback)((function(){j.current&&0!==z&&(Object(Z.l)(j.current,{offset:z}),Object(Z.k)(Object(Z.jb)(j.current)))}),[z]),A=Object(l.useCallback)((function(e){if(2!==e.button){var t=j.current&&Object(Z.mb)(j.current);if(t){v(!0);var o=Object(Q.c)(t),r=o.x,n=o.y;r&&n&&k([r,n]),u()}}}),[u]),W=Object(l.useCallback)((function(e){if(e.onScrollBar)N(null);else{var t=j.current&&Object(Z.mb)(j.current),o=Object(Q.c)(t),r=o.x,n=o.y;r&&n&&N({x:r,y:n}),m&&(r&&n&&k((function(e){return[].concat(Object(V.a)(e),[r,n])})),B())}}),[m,B]),D=Object(l.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t){var o,r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&2!==t.button&&C.length){e.next=2;break}return e.abrupt("return");case 2:if(!j.current||0!==Object(Z.db)(j.current).strokeWidth){e.next=6;break}return v(!1),k([]),e.abrupt("return",!1);case 6:return o=j.current&&Object(Z.mb)(j.current),r=Object(Q.c)(o),n=r.x,i=r.y,2===C.length&&n&&i&&k([n,i,n,i]),e.next=11,s(j.current,z);case 11:v(!1),k([]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,C.length,z,s]),M=Object(l.useCallback)((function(){return N(null)}),[]),L=Object(l.useCallback)((function(){d>1&&N(null)}),[d]),H=Object(l.useCallback)((function(){j.current&&Object(Q.g)(j.current,!0)}),[]),_=Object(l.useCallback)((function(){j.current&&Object(Q.g)(j.current,!1)}),[]);return Object(J.a)("mouseup",D,m),Object(l.useEffect)((function(){var e=j.current&&Object(Z.mb)(j.current);return null===e||void 0===e||e.addEventListener("mousedown",A),null===e||void 0===e||e.addEventListener("mousemove",W),null===e||void 0===e||e.addEventListener("mouseup",D),null===e||void 0===e||e.addEventListener("mouseover",H),null===e||void 0===e||e.addEventListener("mouseout",_),null===e||void 0===e||e.addEventListener("mouseleave",M),null===e||void 0===e||e.addEventListener("touchStart",A),null===e||void 0===e||e.addEventListener("touchMove",W),null===e||void 0===e||e.addEventListener("touchEnd",D),null===e||void 0===e||e.addEventListener("wheel.handleWheel",L),function(){null===e||void 0===e||e.removeEventListener("mousedown"),null===e||void 0===e||e.removeEventListener("mousemove"),null===e||void 0===e||e.removeEventListener("mouseup"),null===e||void 0===e||e.removeEventListener("mouseover"),null===e||void 0===e||e.removeEventListener("mouseout"),null===e||void 0===e||e.removeEventListener("mouseleave"),null===e||void 0===e||e.removeEventListener("touchStart"),null===e||void 0===e||e.removeEventListener("touchMove"),null===e||void 0===e||e.removeEventListener("touchEnd"),null===e||void 0===e||e.removeEventListener("wheel.handleWheel")}}),[M,A,W,D,L,H,_]),Object(X.a)((function(){if(r&&r.current){var e=j.current&&Object(Z.mb)(j.current);if(e){var t=Object(Z.db)(e),o=t.scaleX,n=t.scaleY,a=t.width,i=t.height,c=r.current,l=c.clientWidth,s=c.clientHeight;N({x:(l>a?a:l)/o/2,y:(s>i?i:s)/n/2}),j.current&&Object(Z.k)(Object(Z.jb)(j.current))}}}),[n.size,n.opacity]),Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)($.d,{ref:j,points:C,stroke:"blue",lineCap:"round",lineJoin:"round",globalCompositeOperation:"destination-out",strokeWidth:R,opacity:n[P.h.OPACITY]/100,filters:[q.a.Blur],blurRadius:T}),b,!p&&S&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)($.a,Object(E.a)({ref:h,id:"cursor-circle",stroke:t,strokeWidth:.5,radius:n[P.h.SIZE]/2},S)),Object(ee.jsx)($.a,Object(E.a)({ref:h,id:"cursor-circle-second",stroke:o,strokeWidth:.5,radius:n[P.h.SIZE]/2+1},S))]})]})},oe=function(e){var t=e.mask,o=e.width,r=e.height,n=e.scale,c=e.onChange,s=e.settings,u=e.activeTool,d=e.effectImage,b=e.onMaskChange,p=e.onToolSelect,j=e.showWatermark,h=e.actionsIsBlock,f=e.originalImage,g=e.effectImageAttrs,m=e.originalImageAttrs,v=e.containerRef,O=e.maxWidthCanvas,x=Object(A.d)(),C=H(),k=Object(Y.a)({width:o,height:r}),y=Object(l.useRef)(null),w=Object(l.useRef)(null),S=Object(l.useRef)(null),N=Object(l.useRef)(null),R=Object(l.useRef)([]),T=Object(l.useMemo)((function(){return u===P.i.ERASER}),[u]),z=Object(l.useMemo)((function(){return f?f.width/o:1}),[f,o]);Object(l.useEffect)((function(){f&&w.current&&Object(Z.k)(Object(Z.l)(Object(Z.jb)(w.current)))}),[f,m,o,r,u]),Object(l.useEffect)((function(){d&&S.current&&Object(Z.k)(Object(Z.jb)(Object(Z.l)(S.current)))}),[d,g,o,r]),Object(l.useEffect)((function(){t&&y.current&&Object(Z.k)(Object(Z.jb)(Object(Z.l)(y.current)))}),[t,m,o,r]);var B=Object(l.useCallback)((function(e){S.current=e,e&&Object(Z.k)(Object(Z.jb)(Object(Z.l)(e)))}),[]),W=Object(l.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t,n){var i,c,l,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(Z.u)({width:o,height:r}),c=Object(Z.p)(t),Object(Z.Mb)(c,T?"":"destination-out"),n&&Object(Z.l)(c,{offset:n}),l=y.current&&Object(Z.p)(y.current),Object(Z.Lb)(l,{opacity:1}),Object(Z.Mb)(l,""),Object(Z.h)(i,l),Object(Z.h)(i,c),s=Object(Z.Pb)(i,Object(E.a)({pixelRatio:z,width:o,height:r},m)),b(s),Object(Z.n)(t);case 12:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),[o,r,T,z,m,b]),D=Object(l.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t,o){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,o);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),[c,W]),M=Object(l.useCallback)((function(){u===P.i.CUT_OUT&&p(P.i.ERASER)}),[u,p]),L=Object(l.useMemo)((function(){return k&&Object(Q.d)(k,o,r)}),[r,o,k]);Object(l.useEffect)((function(){if(N.current&&v.current&&Object.keys(R.current).length&&(Object(K.b)(N.current),Object(Z.I)(N.current),!(n<=1))){var e=v.current.offsetHeight,t=R.current;Object(K.a)({stage:N.current,layers:t,scale:n,currentContainerWidth:O,currentContainerHeight:e})}}),[n,v,o,O]);var _=function(e){!R.current.includes(e)&&R.current.push(e)};return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)($.e,{ref:N,className:C.stage,width:o*n,height:r*n,scaleX:n,scaleY:n,children:[Object(ee.jsx)($.c,{listening:!1,ref:function(e){return e&&_(e)},children:Object(ee.jsx)($.b,Object(E.a)({ref:w,image:f,width:o,height:r},m))}),Object(ee.jsxs)($.c,{listening:!1,ref:function(e){return e&&_(e)},children:[Object(ee.jsx)($.b,Object(E.a)({ref:y,id:"mask-img",width:o,height:r,image:t},m)),T&&Object(ee.jsx)($.b,Object(E.a)(Object(E.a)({ref:B,image:d,width:o,height:r},g),{},{globalCompositeOperation:"source-out"})),I.vh.editorOnly?Object(ee.jsx)($.b,Object(E.a)(Object(E.a)({ref:B,image:d,width:o,height:r},g),{},{globalCompositeOperation:"source-out"})):Object(ee.jsx)(te,{firstCircleColor:x.getColor(x.colors.paColor3),secondCircleColor:x.getColor(x.colors.paColor9),settings:s,onChange:D,containerRef:v,onAction:M,scale:n,actionsIsBlock:h,children:!T&&Object(ee.jsx)($.b,Object(E.a)(Object(E.a)({ref:B,image:d,width:o,height:r},g),{},{globalCompositeOperation:"source-out"}))})]}),j&&k&&Object(ee.jsx)($.c,{ref:function(e){return e&&_(e)},children:Object(ee.jsx)($.b,Object(E.a)({id:I.ch,image:k},L))})]})})},re=Object(l.memo)(oe),ne=o(33),ae=function(e){var t,o=e.saveActive,n=e.onApply,a=e.onCancel,i=e.loading,c=M(),s=Object(ne.c)(),u=o&&!i,d=Object(l.useCallback)((function(){u&&n()}),[n,u]);return Object(ee.jsxs)("div",{className:c.eraserHeader,children:[Object(ee.jsx)("div",{className:c.eraser,children:s("Eraser")}),Object(ee.jsxs)("div",{className:c.cancelApplyContainer,children:[Object(ee.jsx)("div",{className:h()(c.cancel,Object(r.a)({},c.disabledButton,i)),onClick:a,children:s("Cancel")}),Object(ee.jsx)("div",{className:h()(c.apply,c.mainSettings,(t={},Object(r.a)(t,c.disabledApply,!u),Object(r.a)(t,c.disabledButton,!u),Object(r.a)(t,c.hoverApply,o),t)),onClick:d,children:s("Apply")})]})]})},ie=o(851),ce=o(808),le=o(87),se=function(e){var t=e.image,o=e.premiumText,r=e.layersContainerRef,n=G(),a=Object(ne.c)(),i=Object(l.useMemo)((function(){return t&&Object(Q.f)(t)}),[t]),c=Object(ie.b)({config:{duration:100},opacity:1});return Object(ee.jsx)("div",{className:n.eraserLayersContainer,ref:r,children:Object(ee.jsx)(ie.a.div,{style:c,children:Object(ee.jsx)("div",{className:n.eraserLayer,children:Object(ee.jsxs)("div",{className:n.currentLayerContainer,children:[o&&Object(ee.jsx)("div",{className:n.tooltipContainer,children:Object(ee.jsx)(ce.a,{content:a(o),placement:ce.b.bottomStart,children:Object(ee.jsx)(le.a,{name:"gold-circle-gen",className:n.crownIcon})})}),i&&Object(ee.jsx)("img",{className:n.layerImg,src:i,alt:a("img")})]})})})})},ue=Object(l.memo)(se),de=o(933),be=function(e){var t,o=e.tool,n=e.active,a=e.onToolSelect,i=e.disabled,c=void 0!==i&&i,s=L(),u=Object(ne.c)(),d=Object(l.useCallback)((function(){!c&&a(o.type)}),[c,a,o.type]),b=Object(l.useMemo)((function(){return!c&&!n}),[c,n]),p=o.icon_name,j=Object(ee.jsx)("div",{className:h()(s.sidebarTools,s.mainSettings,(t={},Object(r.a)(t,s.disabledBrush,c),Object(r.a)(t,s.hoverToolContainer,b),Object(r.a)(t,s.hoverCutoutContainer,b&&o.type===P.i.CUT_OUT),t)),onClick:d,children:Object(ee.jsxs)("div",{id:"".concat(o.type,"-id"),className:s.toolContainer,children:[n&&Object(ee.jsx)("div",{className:s.sidebarCategoryIndicator}),Object(ee.jsx)(le.a,{name:p,className:h()(s.toolIcons,Object(r.a)({},s.activeToolIcon,n))}),Object(ee.jsx)("p",{className:h()(s.toolIconName,s.mainSettings,Object(r.a)({},s.deselectedTool,!n)),children:u(o.name)})]})});return Object(ee.jsx)(ce.a,{delayShow:1e3,offset:[10,-10],hideArrow:!0,isSmall:!0,content:Object(ee.jsx)("p",{children:u(o.name)}),placement:ce.b.bottom,children:j})},pe=o(957),je=function(e){var t=e.onReset,o=e.onInvert,r=e.onToolSelect,n=e.isLoading,c=_(),s=Object(l.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.vh.editorOnly||r(P.i.ERASER),n===P.g.INVERT&&o(),n===P.g.RESET&&t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,t,r]);return Object(ee.jsx)("div",{className:c.historyTools,children:P.o.map((function(e){var t=e.name,o=e.type,r=e.icon_name;return Object(ee.jsx)("div",{children:Object(ee.jsx)(pe.a,{name:t,icon_name:r,isLoading:n,isInvertTool:o===P.g.INVERT,onClick:function(){return s(o)}})},t)}))})},he=function(e){var t=e.onReset,o=e.onInvert,r=e.children,n=e.activeTool,a=e.onToolSelect,i=e.hasPersonCutout,s=e.brushDisabled,u=void 0!==s&&s,d=e.sidebarContainerRef,b=e.isLoading,p=L(),j=Object(de.a)(!I.vh.editorOnly),h=Object(c.a)(j,2),f=h[0],g=h[1],m=Object(ie.b)({config:{duration:80},marginLeft:f?0:-P.d-10,opacity:f?1:0}),v=Object(ie.b)({config:{duration:80},left:f?P.d+P.e:P.e}),O=Object(l.useMemo)((function(){return P.n.filter((function(e){return e.type!==P.i.CUT_OUT||i}))}),[i]);return Object(ee.jsxs)("div",{className:p.eraserSidebarContainer,ref:d,children:[Object(ee.jsx)("div",{className:p.eraserDrawnToolsContainer,children:Object(ee.jsxs)("div",{className:p.eraserDrawnToolsContainerScroller,children:[Object(ee.jsx)("div",{className:p.sliderBarToolsContainer,children:O.map((function(e){return Object(ee.jsx)(be,{tool:e,onToolSelect:a,active:e.type===n,disabled:e.type===P.i.BRUSH&&u},e.name)}))}),!I.vh.editorOnly&&Object(ee.jsx)(je,{onReset:t,onInvert:o,onToolSelect:a,toolsNameClass:p.toolIconName,isLoading:b})]})}),Object(ee.jsx)(ie.a.div,{style:m,className:p.eraserDrawnSettingsContainer,children:r}),!I.vh.editorOnly&&Object(ee.jsx)(ie.a.div,{className:p.visibilitySidebarIcon,onClick:g,style:v,children:Object(ee.jsx)(le.a,{name:f?"arrow-small-left-gen":"arrow-small-right-gen",className:p.arrowIcon})})]})},fe=o(811),ge=o(88),me=o(348),ve=function(e){var t=e.settings,o=e.onSettingsChange,n=e.activeTool,a=e.onCutout,i=e.appliedRemoverTool,c=e.loading,s=F(),u=Object(ne.c)(),d=Object(ge.h)(),b=Object(l.useRef)(!1),p=Object(l.useCallback)((function(e,t){c||e===i||a(e,t)}),[i,a,c]);Object(l.useEffect)((function(){var e=new URLSearchParams(d.search).get(I.fb.eraserType)||null;![P.f.Object,P.f.Person].includes(e)||b.current||c||(p(e,!0),b.current=!0)}),[p,c,d.search]);var j=Object(l.useCallback)((function(e,t){var n=t;t||(n=e!==P.h.SIZE?0:1),o((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(r.a)({},e,n))}))}),[o]),f=Object(l.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=t;if(""!==t&&(a=Number(t)),!Number.isNaN(a)){var i=a>n?n:a;a||0===a||(i=""),o((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(r.a)({},e,i))}))}}),[o]),g=Object(l.useCallback)((function(e){["-","."].includes(e.key)&&e.preventDefault()}),[]),m=Object(l.useCallback)((function(e){var o=e.min,r=e.max,n=e.type,a=e.name,i=t[n],c=Object(me.a)(i,o||0,r||0);return Object(ee.jsxs)("div",{className:s.inputRangContainer,children:[Object(ee.jsx)("div",{className:s.settingName,children:u(a)}),Object(ee.jsxs)("div",{className:s.rangeWrapper,children:[Object(ee.jsx)("div",{className:s.rangeWrap,style:{"--progressValue":"".concat(c,"%")},children:Object(ee.jsx)("input",{className:s.inputRange,type:"range",min:o,max:r,value:i,onChange:function(e){return f(n,Number(e.target.value))}})}),Object(ee.jsx)("input",{className:s.settingValue,value:i,onChange:function(e){return f(n,e.target.value)},onKeyDown:g,min:o,max:r,onBlur:function(){return j(n,i)}})]})]},n)}),[s,f,t,g,u,j]);return n===P.i.CUT_OUT?Object(ee.jsx)("div",{className:s.cutoutSettingsContainer,children:P.l.map((function(e){var t,o=e.url,n=e.type,a=e.title;return Object(ee.jsxs)("div",{className:h()(s.currentImgContainer,(t={},Object(r.a)(t,s.appliedRemoverTool,i===n),Object(r.a)(t,s.applyHover,i!==n),Object(r.a)(t,s.disabledState,c),t)),onClick:function(){return p(n)},children:[n===P.f.Object&&Object(ee.jsx)(fe.a,{message:u("This is a premium feature"),className:s.crown,size:"medium"}),Object(ee.jsx)("img",{src:o,alt:u("img"),className:s.image}),Object(ee.jsx)("p",{className:s.cutoutTitle,children:u(a)})]},n)}))}):Object(ee.jsx)("div",{className:s.settingsContainer,children:P.m.map((function(e){return m(e)}))})},Oe=Object(l.memo)(ve);t.a=function(e){var t,o,n=e.width,u=e.height,b=e.onApply,j=e.onCancel,E=e.defaultMask,A=e.effectImage,W=e.originalImage,D=e.effectImageAttrs,M=e.originalImageAttrs,L=e.onBgRemover,H=void 0===L?m.a:L,_=e.onMaskChange,F=void 0===_?m.a:_,G=e.cutOutKeepMask,$=void 0===G||G,K=e.hasPersonCutout,Z=void 0===K||K,Y=e.isPremiumImage,V=void 0!==Y&&Y,q=e.isRmObjectApplied,J=void 0!==q&&q,X=e.isPassedImageHSLApplied,te=void 0!==X&&X,oe=e.defaultActiveTool,ne=void 0===oe?P.i.ERASER:oe,ie=U(),ce=Object(g.e)(),le=Object(z.a)((function(e){return{imageData:Object(B.hb)(e),newCanvasEnabled:Object(B.jc)(e)}})),se=le.imageData,de=le.newCanvasEnabled,be=Object(w.a)(),pe=be.user,je=be.subscribed,fe=Object(C.a)().show,ge=Object(O.a)(P.a),me=Object(k.a)("contextmenu",(function(e){return e.preventDefault()})),ve=Object(l.useRef)(null),xe=Object(l.useRef)(null),Ce=Object(l.useRef)(null),ke=Object(l.useRef)(null),ye=E||ge,we=Object(l.useState)(!1),Se=Object(c.a)(we,2),Ie=Se[0],Ne=Se[1],Re=Object(l.useState)(!0),Te=Object(c.a)(Re,2),ze=Te[0],Be=Te[1],Ee=Object(l.useState)(),Ae=Object(c.a)(Ee,2),We=Ae[0],Pe=Ae[1],De=Object(l.useState)(!1),Me=Object(c.a)(De,2),Le=Me[0],He=Me[1],_e=Object(l.useState)(ne),Fe=Object(c.a)(_e,2),Ge=Fe[0],Ue=Fe[1],$e=Object(l.useState)((function(){return Object(Q.b)()})),Ke=Object(c.a)($e,2),Ze=Ke[0],Ye=Ke[1],Ve=Object(l.useState)(0),qe=Object(c.a)(Ve,2),Je=qe[0],Xe=qe[1],Qe=Object(l.useState)((function(){return I.Sh.find((function(e){return"100%"===e.label}))})),et=Object(c.a)(Qe,2),tt=et[0],ot=et[1],rt=Object(l.useMemo)((function(){return Ie||(null===D||void 0===D?void 0:D.waitingForOriginal)}),[null===D||void 0===D?void 0:D.waitingForOriginal,Ie]),nt=Object(l.useCallback)((function(e,t){var o=e.lineImage;t<0&&Ue(P.i.ERASER),He(t>=0),Pe(o)}),[]),at=Object(l.useMemo)((function(){return W&&A&&We}),[W,A,We]),it=Object(x.a)(nt,ye,!!at&&!rt),ct=Object(c.a)(it,5),lt=ct[0],st=ct[1],ut=ct[2],dt=ct[3],bt=ct[4],pt=Object(l.useMemo)((function(){return lt[st]}),[lt,st]),jt=Object(l.useMemo)((function(){return lt.slice(0,st+1)}),[lt,st]),ht=Object(l.useMemo)((function(){var e,t=d()(jt,(function(e){return!!(null===e||void 0===e?void 0:e.isReset)})),o=d()(jt,(function(e){return!!(null===e||void 0===e?void 0:e.appliedRemoverTool)}));return t>o?null:null===(e=jt[o])||void 0===e?void 0:e.appliedRemoverTool}),[jt]),ft=Object(l.useMemo)((function(){return"object"===ht}),[ht]),gt=Object(l.useMemo)((function(){if(de&&se){var e=se.meta.type;return Object(T.e)(se)||ft?"Layer contains premium feature":V?"This is a premium ".concat(v.b[e]):null}return ft||J||te||!V?ft||J||te?"Layer contains premium feature":null:"This is a premium photo"}),[de,ft,J,te,V,se]),mt=Object(l.useMemo)((function(){return!je&&!!gt}),[gt,je]);Object(l.useEffect)((function(){ft&&fe()}),[ft,fe]),Object(l.useEffect)((function(){Be(!W||!A||!We)}),[A,W,We]),Object(l.useEffect)((function(){Pe(ye)}),[ye]);var vt=Object(l.useCallback)((function(){He(!0)}),[]),Ot=Object(l.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Pe(e),e&&dt({lineImage:e,isReset:o},t),F(t)}),[dt,F]),xt=Object(l.useCallback)(Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===pt||void 0===pt?void 0:pt.isReset)&&-1!==st){e.next=2;break}return e.abrupt("return");case 2:Ot(ye,null,!0),He(!1);case 4:case"end":return e.stop()}}),e)}))),[Ot,pt,st,ye]),Ct=Object(l.useCallback)((function(){var e=Object(Q.e)(We,W,n,u);e&&Ot(e),He(!0)}),[u,We,W,n,Ot]),kt=Object(l.useCallback)(Object(i.a)(a.a.mark((function e(){var t,o,r,i,c,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"",o=l.length>1&&void 0!==l[1]&&l[1],(null===pe||void 0===pe?void 0:pe.key)||o||I.Eh||!I.vh.authentication){e.next=4;break}return e.abrupt("return",ce(R.a.actions.openAuthenticationPopup({closable:!0})));case 4:return Ne(!0),r=$?W:A,e.next=8,Object(Q.a)(We,r,n,u,$,t);case 8:i=e.sent,c=$?i:Object(Q.e)(i,W,n,u),Ot(c,t),He(!0),Ne(!1),H(t,c);case 14:case"end":return e.stop()}}),e)}))),[null===pe||void 0===pe?void 0:pe.key,$,W,A,We,n,u,Ot,H,ce]),yt=Object(l.useCallback)((function(){We&&(Ne(!0),b(We,ft))}),[We,b,ft]),wt=Object(l.useCallback)((function(){j(ft)}),[ft,j]),St=Object(l.useCallback)((function(e){var t=e.id,o=e.label,r=e.value;tt.id!==t&&ot({id:t,label:o,value:r})}),[tt.id]),It=Object(l.useMemo)((function(){if(!me.current)return 1;var e=tt.value,t=e===I.Th.fill.value?1:e,o=me.current.offsetWidth;if(e===I.Th.fill.value||o<n*e&&e<=1){var r=e===I.Th.fill.value?1:e;t=o/n*r}return t}),[me,tt.value,n]),Nt=Object(l.useMemo)((function(){return tt.value>1||tt.value===I.Th.fill.value}),[tt.value]),Rt=Object(l.useMemo)((function(){return n*It>Je}),[n,It,Je]),Tt=new f.a((function(){var e,t,o;Xe(((null===(e=ve.current)||void 0===e?void 0:e.offsetWidth)||0)-((null===(t=xe.current)||void 0===t?void 0:t.offsetWidth)||0)-((null===(o=Ce.current)||void 0===o?void 0:o.offsetWidth)||0))}));ke&&ke.current&&(Tt.unobserve(ke.current),Tt.observe(ke.current)),Object(y.a)((function(){var e,t,o;Xe(((null===(e=ve.current)||void 0===e?void 0:e.offsetWidth)||0)-((null===(t=xe.current)||void 0===t?void 0:t.offsetWidth)||0)-((null===(o=Ce.current)||void 0===o?void 0:o.offsetWidth)||0))})),Object(l.useEffect)((function(){I.vh.editorOnly&&A&&-1===st&&kt()}),[A,kt,st]);var zt=u*It>((null===(t=me.current)||void 0===t?void 0:t.clientHeight)||0);return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:ie.EraserPage,children:[Object(ee.jsx)(ae,{onCancel:wt,saveActive:Le,onApply:yt,loading:rt||ze}),Object(ee.jsxs)("div",{ref:ve,className:ie.container,children:[Object(ee.jsx)(he,{onReset:xt,onInvert:Ct,activeTool:Ge,onToolSelect:Ue,hasPersonCutout:Z,brushDisabled:!Le&&!E,sidebarContainerRef:xe,isLoading:rt||ze,children:!I.vh.editorOnly&&Object(ee.jsx)(Oe,{settings:Ze,onSettingsChange:Ye,activeTool:Ge,onCutout:kt,appliedRemoverTool:ht,loading:rt||ze})}),Object(ee.jsxs)("div",{className:h()(ie.eraserStageMain,Object(r.a)({},ie.eraserStageMainZoomed,Nt)),children:[Object(ee.jsx)("div",{className:ie.eraserStageWrapper,ref:ke,children:Object(ee.jsx)("div",{ref:me,className:h()(ie.eraserStageContainer,(o={},Object(r.a)(o,ie.eraserStageContainerCenter,!Nt||!Rt),Object(r.a)(o,ie.eraserStageContainerVertical,!Nt||!zt),o)),children:at&&Object(ee.jsx)(re,{mask:We,width:n,height:u,scale:It,settings:Ze,activeTool:Ge,actionsIsBlock:rt,onChange:vt,effectImage:A,showWatermark:mt,onToolSelect:Ue,originalImage:W,onMaskChange:Ot,effectImageAttrs:D,originalImageAttrs:M,containerRef:me,maxWidthCanvas:Je})})}),at&&Object(ee.jsxs)("div",{className:h()(ie.canvasFooterWrapper,Object(r.a)({},ie.canvasFooterWrapperZoomed,Nt)),children:[Object(ee.jsx)(S.a,{step:st,historyLength:lt.length,disabled:ut||Ie,onClickHandler:bt}),Object(ee.jsx)(N.a,{data:I.Sh,labelName:"label",valueName:"value",onChange:St,selected:tt,horizontalPosition:"center",verticalPositionType:"top",tooltip:"Zoom"})]}),rt&&Object(ee.jsx)("div",{className:ie.loaderContainer,children:Object(ee.jsx)(s.a,{className:ie.loaderIcon})}),ze&&Object(ee.jsx)("div",{className:ie.skeletonContainer,children:Object(ee.jsx)(p.a,{width:window.innerWidth/2-100,height:window.innerWidth/2-100})})]}),Object(ee.jsx)(ue,{image:A,premiumText:gt,layersContainerRef:Ce})]})]})})}},1435:function(e,t,o){"use strict";o.r(t);var r,n=o(15),a=o(3),i=o(27),c=o(136),l=o.n(c),s=o(2),u=o(953),d=o(195),b=o(76),p=o(5),j=function(e){var t=e.children,o=e.onDragActive,r=Object(d.c)(),n=r.data,i=r.acceptFiles,c=Object(a.useCallback)((function(e,t){n.length&&i(e,!!t.length)}),[i,n.length]),l=Object(u.a)({onDrop:c,accept:b.q,multiple:!0}),j=l.getRootProps,h=l.getInputProps,f=l.isDragActive;return Object(a.useEffect)((function(){o(f&&!!n.length)}),[n.length,f,o]),Object(p.jsxs)("div",Object(s.a)(Object(s.a)({},j()),{},{children:[f&&Object(p.jsx)("input",Object(s.a)({},h())),t]}))},h=o(194),f=o(810),g=o(12),m=o(202),v=o(74),O=o(269),x=o(17),C=o(1110),k=o(1033),y=o(83),w=o(161),S=o(7),I=o.n(S),N=o(10),R=o(88),T=o(273),z=o.n(T),B=o(179),E=o(34),A=o(152);!function(e){e.images="image",e.tool="tool",e.apply="apply"}(r||(r={}));var W=function(){var e=Object(R.h)(),t=Object(R.g)(),o=Object(a.useMemo)((function(){return new URLSearchParams(e.search)}),[e.search]),i=o.getAll(r.images),c=o.get(r.tool),l=o.get(r.apply),s=Object(a.useState)(null),u=Object(n.a)(s,2),p=u[0],j=u[1],f=Object(d.c)(),g=f.acceptFiles,m=f.setActiveTool,v=f.allSelected,O=f.process,x=f.activeTool,C=f.data,k=f.setSelectedKeys,y=f.setRemovedType,w=f.setMultiplyFactor,S=Object(a.useCallback)((function(e){o.delete(e),t.replace({search:o.toString()})}),[t,o]),T=Object(a.useCallback)(Object(N.a)(I.a.mark((function e(){var t,o,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,Promise.all(i.map((function(e){return fetch(e)})));case 4:return o=e.sent,e.next=7,Promise.all(o.map((function(e){return e.blob()})));case 7:n=e.sent,a=n.map((function(e){var o=z.a.getExtension(e.type),r="".concat(Object(B.a)(),".").concat(o);return r&&t.push(r),new File([e],r,{type:e.type,lastModified:Date.now()})})),j(t),g(a),S(r.images),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),E.a.trigger(e.t0,"error");case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[g,i,S]);Object(a.useEffect)((function(){x&&"true"===l&&(x===b.c.remove?(y(b.s[0].type),O(b.c.remove,{isPerson:!1})):x===b.c.upscale&&(w(2),O(b.c.upscale,{factor:"2"}),A.b.applyUpscale({factor:2})),S(r.apply))}),[x,S]),Object(a.useEffect)((function(){if(p){var e=C.reduce((function(e,t){var o=t.result.blob;return p.includes(o.name)&&e.push(t.key),e}),[]);e.length&&(k(e),j(null))}}),[C,p,k]),Object(h.a)((function(){i.length&&T()})),Object(a.useEffect)((function(){i.length||p||!Object.values(b.c).includes(c)||(m(c),A.b.openTool(c,v),S(r.tool))}),[i.length,c,p,S,m,v])},P=o(225),D=o(119),M=o(1),L=o(865),H=o(898),_=o(181),F=o(24),G=o(87),U=o(33),$=o(880),K=o(44),Z=Object(K.b)((function(e){return{uploader:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","@media(hover: hover)":{"&:hover":{"& $uploaderIcon path":{fill:e.colors.paColor208},"& $uploaderTitle":{color:e.colors.paColor208}}}},uploaderTitle:{fontWeight:600,fontSize:14,lineHeight:1.25,color:e.colors.paColor192},uploaderText:{display:"flex",justifyContent:"center",marginTop:4,fontSize:10,lineHeight:1.2,color:e.colors.paColor192},inputFile:{display:"none"},uploaderIcon:{marginInlineEnd:8,"& path":{fill:e.colors.paColor192},"& svg":{width:30}}}}));var Y=function(e){var t=e.onClick,o=void 0===t?F.a:t,r=e.onCancel,n=void 0===r?F.a:r,i=e.onSelect,c=void 0===i?F.a:i,l=e.isOpen,s=void 0===l||l,u=e.allowMultiple,d=void 0===u||u,j=e.title,h=e.text,f=e.useIcon,g=void 0===f||f,m=Z(),v=Object(U.c)(),O=Object(a.useRef)(null),x=Object($.a)(n),C=x.uploadClickEvent,k=x.fileChangeEvent,y=Object(a.useCallback)((function(){O.current&&(o(),C(),O.current.click())}),[o,C]),w=Object(a.useCallback)((function(e){var t=e.target.files;k();var o=Array.from(t||[]),r=o.filter((function(e){return b.q.includes(e.type)})),n=r.length!==o.length;c(r,n)}),[k,c]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{onClick:y,className:m.uploader,children:[g&&Object(p.jsx)(G.a,{name:"upload-gen",className:m.uploaderIcon}),Object(p.jsx)("div",{className:m.uploaderTitle,children:v(j)})]}),h&&Object(p.jsx)("div",{className:m.uploaderText,children:v(h)}),Object(p.jsx)("input",{ref:O,type:"file",accept:"".concat(b.q),className:m.inputFile,value:"",onChange:w,multiple:d,disabled:!s})]})},V=Object(K.b)((function(e){return{buttonContainer:{position:"absolute",bottom:58,left:24,right:24},uploader:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","@media(hover: hover)":{"&:hover":{"& $uploaderIcon path":{fill:e.colors.paColor1},"& $uploaderTitle":{color:e.colors.paColor1}}}},uploaderTitle:{marginLeft:8,fontWeight:600,fontSize:14,lineHeight:"17px",color:e.colors.paColor10},uploaderText:{display:"flex",justifyContent:"center",marginTop:4,fontSize:10,lineHeight:"12px",color:e.colors.paColor10},inputFile:{display:"none"},uploaderIcon:{"& path":{fill:e.colors.paColor10},"& svg":{width:30}}}}));var q=function(e){var t=e.onClick,o=void 0===t?F.a:t,r=e.onCancel,n=void 0===r?F.a:r,a=e.isOpen,i=void 0===a||a,c=V(),l=Object(d.c)().acceptFiles;return Object(p.jsx)("div",{className:c.buttonContainer,children:Object(p.jsx)(Y,{title:"Upload",text:"or drag and drop your images",onClick:o,onCancel:n,onSelect:l,isOpen:i})})},J=o(435),X=o(4),Q=o(18),ee=o.n(Q),te=o(403),oe=o(53),re=Object(K.b)((function(e){return{sizeDropdown:{position:"relative"},sizeContainer:{"--border-color":e.colors.paColor84,border:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",height:44,padding:"0 12px",paddingRight:12,width:"100%",color:e.colors.paColor6,borderRadius:e.variables.mainBorderRadius,cursor:"pointer",fontSize:14,"@media(hover: hover)":{"&:hover":{"--border-color":e.colors.paColor7}},"&:focus":{border:"1px solid ".concat(e.colors.paColor37),outline:"none","@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor37)}}}},dropdownSizeContainer:{position:"absolute",zIndex:oe.d,width:"100%",padding:8,backgroundColor:e.colors.paColor9,boxShadow:"0px 0px 16px ".concat(e.colors.paColor165),borderRadius:e.variables.mainBorderRadius,marginTop:6},dropdownItem:{width:"100%",height:40,padding:"8px 16px",borderRadius:e.variables.mainBorderRadius,fontSize:14,lineHeight:1.7,color:e.colors.paColor6,cursor:"pointer","@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor153}}},activeItem:{fontFamily:"Montserrat-SemiBold"}}})),ne=function(e){var t=e.content,o=e.onChangeItem,r=e.activeItem,i=re(),c=Object(U.c)(),l=Object(a.useState)(!1),s=Object(n.a)(l,2),u=s[0],d=s[1],b=Object(a.useCallback)((function(e){o(e),d(!1)}),[o]),j=Object(te.a)((function(){return d(!1)}));return Object(p.jsxs)("div",{ref:j,className:i.sizeDropdown,onClick:function(){return d(!u)},children:[Object(p.jsxs)("div",{className:i.sizeContainer,children:[c(r),Object(p.jsx)(G.a,{name:u?"arrow-small-up-gen":"arrow-small-down-gen",className:i.arrowBottom})]}),u&&Object(p.jsx)("div",{className:i.dropdownSizeContainer,children:t.map((function(e){return Object(p.jsx)("div",{className:ee()(i.dropdownItem,Object(X.a)({},i.activeItem,e===r)),onClick:function(){return b(e)},children:c(e)},e)}))})]})},ae=o(198),ie=o(469),ce=Object(K.b)((function(e){return{title:{margin:"14px 0 16px 2px",fontWeight:600,fontSize:16,lineHeight:1.3,color:e.colors.paColor6},upscaleContent:{margin:"0 2px"},upscaleByWidth:{fontSize:12,lineHeight:1.4,color:e.colors.paColor10,marginTop:16,marginBottom:4,position:"relative"},sizeDropdown:{position:"relative"},dropdownSizeContainer:{position:"absolute",zIndex:oe.a.Base,height:95,width:"100%",padding:8,backgroundColor:e.colors.paColor9,boxShadow:"0px 0px 16px ".concat(e.colors.paColor165),borderRadius:e.variables.mainBorderRadius,marginTop:6,"& div:first-child":{fontWeight:600}},dropdownItem:{width:"100%",height:40,padding:"8px 16px",borderRadius:e.variables.mainBorderRadius,fontSize:14,lineHeight:1.7,color:e.colors.paColor6,cursor:"pointer","@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor153}}},upscaleSizeContainer:{"--border-color":e.colors.paColor84,border:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",height:44,padding:"0 12px",paddingRight:12,width:"100%",color:e.colors.paColor6,borderRadius:e.variables.mainBorderRadius,cursor:"pointer",fontSize:14,outline:"none","@media(hover: hover)":{"&:hover":{"--border-color":e.colors.paColor7}},"&:focus":{"--border-color":e.colors.paColor6},"&:focus + $arrowIconCircle":{opacity:1},"&::placeholder":{color:e.colors.paColor85}},inputSizeContainer:{display:"flex",position:"relative"},inputSize:{cursor:"default","&:disabled":{cursor:"no-drop","@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor84)}}}},arrowIconCircle:{position:"absolute",top:12,right:12,width:18,height:18,borderRadius:"50%",backgroundColor:e.colors.paColor10,opacity:0,"& path":{fill:e.colors.paColor9}},disabledSize:{opacity:.6,cursor:"default","@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor84)}}},disabledItems:{cursor:"no-drop"},arrowBottom:{width:24,height:24,position:"absolute",right:10,top:10},doneIcon:{"& path:last-child":{fill:e.colors.paColor45}},multiplySizeContainer:{display:"flex",alignItems:"center"},optionalSize:{display:"flex",justifyContent:"center",margin:"24px 0",fontSize:14,lineHeight:1.25,color:e.colors.paColor10},multiplySizesContainer:{display:"grid",gridGap:8},multiplySize:{display:"flex",alignItems:"center",justifyContent:"center",width:30,height:30,marginRight:12,borderRadius:"50%",backgroundColor:"rgba(233, 233, 238, 0.6)",fontSize:12,color:e.colors.paColor6},incorrectSize:{"@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor18)}},border:"1px solid ".concat(e.colors.paColor18)}}})),le=function(e){var t=e.inputValue,o=e.onInputChange,r=e.inProgress,n=e.startProcess,i=e.activeSide,c=ce(),l=Object(U.c)(),s=Object(ae.d)(),u=Object(d.c)(),j=u.setMultiplyFactor,h=u.activeTool,f=Object(a.useRef)(null),g=Object(a.useMemo)((function(){return t&&(Number(t)>b.n||Number(t)<b.o)}),[t]),m=Object(a.useCallback)((function(e){var t=e.target.value;b.f.test(t)&&!r&&(o(t),j(null))}),[r,o,j]),v=Object(a.useCallback)(Object(N.a)(I.a.mark((function e(){var o,r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=function(e){return Object(p.jsx)(ie.a,{title:b.I.error[e].title,text:b.I.error[e].text})},!((r=Number(t))>b.n||r<b.o)){e.next=9;break}return a=r>b.n?"bigNumber":"smallNumber",s({duration:b.m,hasClose:!0,content:o(b.b[a]),type:ae.c.error,onClose:function(){return A.b.popupAction(h)}}),A.b.openPopup(b.I.error[a].title,h),e.abrupt("return");case 9:n({side:i.toLowerCase(),size:t});case 10:case"end":return e.stop()}}),e)}))),[t,i,n,s,h]),O=Object(a.useCallback)((function(e){var t;return null===(t=e.target)||void 0===t?void 0:t.blur()}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:c.upscaleByWidth,children:l("Target {{side}} (px)",{side:i})}),Object(p.jsxs)("div",{className:c.inputSizeContainer,children:[Object(p.jsx)("input",{ref:f,type:"text",placeholder:l("Select your number"),className:ee()(c.upscaleSizeContainer,c.inputSize,Object(X.a)({},c.incorrectSize,g)),onChange:m,value:t,onKeyPress:function(e){return"Enter"===e.key&&O(e)},onBlur:v,disabled:r}),t&&Object(p.jsx)("button",{className:c.arrowIconCircle,children:Object(p.jsx)(G.a,{name:"arrow-direct-right-gen",className:"arrowIcon"})})]})]})},se=function(e){var t=e.startProcess,o=e.onInputChange,r=e.inProgress,n=ce(),i=Object(U.c)(),c=Object(d.c)(),l=c.multiplyFactor,s=c.setMultiplyFactor,u=Object(a.useCallback)((function(e){r||(s(e),o(""),t({factor:e}))}),[t,r,o,s]);return Object(f.a)((function(){return s(null)})),Object(p.jsx)("div",{className:n.multiplySizesContainer,children:b.L.map((function(e){var t,o=e.value,a=e.title;return Object(p.jsx)("div",{className:ee()(n.upscaleSizeContainer,(t={},Object(X.a)(t,n.disabledSize,l===o),Object(X.a)(t,n.disabledItems,r),t)),onClick:function(){return u(o)},children:Object(p.jsxs)("div",{className:n.multiplySizeContainer,children:[Object(p.jsx)("div",{className:n.multiplySize,children:i("x".concat(o))}),i(a)]})},a)}))})},ue=function(e){var t=e.inProgress,o=ce(),r=Object(U.c)(),i=Object(d.c)().process,c=Object(a.useState)(b.K[0]),l=Object(n.a)(c,2),s=l[0],u=l[1],j=Object(a.useState)(""),h=Object(n.a)(j,2),f=h[0],g=h[1],m=Object(a.useCallback)((function(e){A.b.applyUpscale(e),i(b.c.upscale,e)}),[i]),v=Object(a.useCallback)((function(e){u(e),g("")}),[]);return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:o.title,children:r("Upscale")}),Object(p.jsx)(ne,{content:b.K,activeItem:s,onChangeItem:v}),Object(p.jsxs)("div",{className:o.upscaleContent,children:[Object(p.jsx)(le,{inputValue:f,onInputChange:g,inProgress:t,startProcess:m,activeSide:s}),Object(p.jsx)("div",{className:o.optionalSize,children:r("or")}),Object(p.jsx)(se,{startProcess:m,onInputChange:g,inProgress:t})]})]})},de=o(305),be=o.n(de),pe=function(){var e=Object(ae.d)(),t=Object(d.c)(),o=t.selectedData,r=t.activeTool,n=Object(a.useMemo)((function(){return o.some((function(e){return e.status===M.G.IN_PROGRESS}))}),[o]),i=Object(a.useCallback)((function(e){return Object(p.jsx)(ie.a,{title:b.I.error[e].title,text:b.I.error[e].text})}),[]);Object(a.useEffect)((function(){n||be()(o.filter((function(e){return e.status===M.G.ERROR})).map((function(e){return e.errorType}))).forEach((function(t){t&&(e({duration:b.m,hasClose:!0,content:i(t),type:ae.c.error,onClose:function(){return A.b.popupAction(r)}}),A.b.openPopup(b.I.error[t].title,r))}))}),[e,n,i,o,r])},je=o(885),he=Object(K.b)((function(e){return{footer:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:8,position:"absolute",left:"var(--horizontal-gutter)",right:"var(--horizontal-gutter)",width:"calc((100%) - calc(var(--horizontal-gutter) * 2))",bottom:24,zIndex:oe.a.Base,paddingTop:"var(--footer-btn-gap)",backgroundColor:e.colors.paColor9},footerBtn:{display:"flex",alignItems:"center",justifyContent:"center",height:"var(--footer-btn-height)",borderRadius:e.variables.mainBorderRadius,cursor:"pointer"},cancelButton:{border:"1px solid ".concat(e.colors.paColor84),backgroundColor:e.colors.paColor9,"& $closeIcon path":{strokeWidth:2},"@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor7)}}},doneButton:{backgroundColor:e.colors.paColor1,"@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor44}}},closeIcon:{width:12,"& path":{fill:e.colors.paColor14,stroke:e.colors.paColor14}},doneIcon:{strokeWidth:2,width:12,"& path":{fill:e.colors.paColor82,stroke:e.colors.paColor9}},disabledDone:{backgroundColor:e.colors.paColor7,cursor:"default","@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor7}}}}})),fe=function(e){var t=e.onClose,o=e.isDone,r=e.children,n=Object(y.a)(w.a),i=Object(y.a)((function(e){return{activeTexture:Object(w.c)(e),cropAttrs:Object(w.f)(e)}})),c=i.activeTexture,l=i.cropAttrs,u=he(),j=Object(d.c)(),h=j.dispatchData,f=j.discardPending,g=j.setUploadedData,m=j.process,v=j.resizeParams,O=j.activeTool,x=Object(je.a)().show,C=Object(D.a)().subscribed;pe();var k=Object(a.useCallback)(Object(N.a)(I.a.mark((function e(){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:if(O!==b.c.crop){e.next=5;break}return e.next=5,m(b.c.crop,l);case 5:if(O!==b.c.remove||!c&&!n){e.next=8;break}return e.next=8,m(b.c.background,c?{texture:c.url}:{color:n});case 8:if(!O||!(null===(r=b.d[O])||void 0===r?void 0:r.processOnApply)){e.next=11;break}return e.next=11,m(b.c.resize,Object(s.a)(Object(s.a)({},v),{},{bgColor:n}));case 11:!C&&x(),h({type:d.b.APPLY_PENDING}),O&&A.b.toolAction(O,"apply"),t();case 15:case"end":return e.stop()}}),e)}))),[o,x,h,t,C,O,m,v,n,c,l]),S=Object(a.useCallback)((function(){f(),O&&A.b.toolAction(O,"cancel"),t()}),[O,f,t]);return Object(a.useEffect)((function(){g((function(e){return Object(s.a)(Object(s.a)({},e),{},{count:0})}))}),[g]),Object(p.jsxs)(p.Fragment,{children:[r,Object(p.jsxs)("div",{className:u.footer,children:[Object(p.jsx)("button",{className:ee()(u.cancelButton,u.footerBtn),onClick:S,"data-test":"cancel-button",children:Object(p.jsx)(G.a,{name:"close-gen",className:u.closeIcon})}),Object(p.jsx)("button",{className:ee()(u.doneButton,u.footerBtn,Object(X.a)({},u.disabledDone,!o)),onClick:k,"data-test":"done-button",children:Object(p.jsx)(G.a,{name:"done-gen",className:u.doneIcon})})]})]})},ge=o(1012),me=Object(K.b)((function(e){return{pickerContainer:{"--fill--box-height":"30px","--picker-margin":"8px",bottom:function(e){return e.isPickerTop&&"calc(var(--fill--box-height) + var(--picker-margin))"},top:function(e){return!e.isPickerTop&&"calc(var(--fill--box-height) + var(--picker-margin))"},left:0,position:"absolute",zIndex:oe.i,backgroundColor:e.colors.paColor9},colorPickerInput:{"& > div":{width:"100%"},width:"100%"}}})),ve=function(e){var t=e.onClosePicker,o=e.fillBoxRef,r=e.isPickerTop,n=e.onChangePicker,c=void 0===n?F.a:n,l=e.onTransparentClick,s=void 0===l?F.a:l,u=Object(i.e)(),d=Object(y.a)((function(e){return{activeColor:Object(w.a)(e),activeRgb:Object(w.b)(e)}})),b=d.activeColor,j=d.activeRgb,h=Object(te.a)((function(e){var r;(null===(r=o.current)||void 0===r?void 0:r.contains(e.target))||t(b||"transparent")})),f=Object(a.useCallback)((function(e){var t=e.rgb;u(P.a.actions.setActiveColor(t)),c()}),[u,c]),g=Object(a.useCallback)((function(){u(P.a.actions.setActiveColor(null)),s()}),[u,s]),m=me({bgColor:b,isPickerTop:r});return Object(p.jsx)("div",{className:m.pickerContainer,ref:h,children:Object(p.jsx)(ge.b,{format:ge.a.Rgba,onChange:f,values:j?[j]:[],hasPresetsColors:!1,hasSquareBox:!1,hasDropperBox:!1,hasTransparentBox:!0,onTransparentClick:g,editableInputClassName:m.colorPickerInput})})},Oe=Object(K.b)((function(e){return{colorsContainer:{"--preset-border":"1px solid #DCDDE9",marginBottom:54},title:{marginBottom:12,fontSize:12,lineHeight:1.2,color:e.colors.paColor10},presetsColorsContainer:{display:"grid",gap:6,gridTemplateColumns:"repeat(6, 1fr)"},pickerWrapper:{position:"relative","--box-margin":"0px"},addIconContainer:{border:"var(--preset-border)"},activeAddIconContainer:{"--preset-border":"1px solid #3A76E8"},addIcon:{width:10,height:10,"& path":{fill:e.colors.paColor2}},activeAddIcon:{"& path":{fill:e.colors.paColor37}},presetsColor:{width:30,height:30,borderRadius:4,cursor:"pointer",backgroundColor:"var(--bgColor)"}}})),xe=function(){var e=Object(y.a)(w.a),t=Object(i.e)(),o=Oe(),r=Object(U.c)(),c=Object(a.useState)(!1),l=Object(n.a)(c,2),s=l[0],u=l[1],d=Object(a.useRef)(null);Object(f.a)((function(){return t(P.a.actions.setActiveColor(null))}));var j=Object(a.useCallback)((function(){return t(P.a.actions.setActiveTexture(null))}),[t]),h=Object(a.useCallback)((function(e){t(P.a.actions.setActiveColor(e)),j(),A.b.applyBgColor("rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"),!0)}),[t,j]),g=Object(a.useCallback)((function(){u(!1),A.b.applyBgColor(e||"transparent")}),[e]);return Object(p.jsxs)("div",{className:o.colorsContainer,children:[Object(p.jsx)("p",{className:o.title,children:r("Color")}),Object(p.jsxs)("div",{className:o.presetsColorsContainer,children:[Object(p.jsxs)("div",{className:o.pickerWrapper,children:[Object(p.jsx)("div",{className:ee()(o.presetsColor,o.addIconContainer,Object(X.a)({},o.activeAddIconContainer,s)),onClick:function(){return u(!s)},ref:d,children:Object(p.jsx)(G.a,{name:"add-editor",className:ee()(o.addIcon,Object(X.a)({},o.activeAddIcon,s))})}),s&&Object(p.jsx)(ve,{onClosePicker:g,fillBoxRef:d,isPickerTop:!0,onChangePicker:j,onTransparentClick:j})]}),b.D.map((function(e){return Object(p.jsx)("div",{className:o.presetsColor,style:{"--bgColor":"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")},onClick:function(){return h(e)}},Object.values(e).toString())}))]})]})},Ce=o(14),ke=o(881),ye=o(1167),we=o(456),Se=o.n(we),Ie=o(906),Ne=o(811),Re=o(968),Te=o(143),ze=o(970),Be=o(904),Ee=Object(K.b)((function(e){return{bgWrapper:{position:"relative",flexGrow:1,display:"flex",justifyContent:"center","&::before":{content:'""',position:"absolute",bottom:0,left:0,right:0,width:"100%",height:"40px",display:"block",background:"linear-gradient(180deg, transparent 30.73%, ".concat(e.colors.paColor9," 101.63%)"),zIndex:oe.a.Base,pointerEvents:"none"}},removeBgItem:{display:"flex",justifyContent:"center",padding:"14px 0",border:"1px solid ".concat(e.colors.paColor84),borderRadius:7,marginBottom:8,"@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor7)}},fontSize:14,lineHeight:"17px",color:e.colors.paColor6},bgGridScrolling:Object(s.a)(Object(s.a)({position:"absolute !important",overflowY:"auto"},e.scrollbars.main),{},{height:"100% !important","-webkit-overflow-scrolling":"touch",maxHeight:"100%","& > div":{width:"100% !important"}}),bgGridWrap:{paddingBottom:8,paddingRight:8,"&:nth-child(odd)":{paddingLeft:4},"&:nth-child(even)":{paddingLeft:6}},bgGrid:{"--border-color":e.colors.paColor2,"--border-opacity":0,width:100,height:100,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.variables.mainBorderRadius,position:"relative",cursor:"pointer","&::before, &::after":{content:'""',width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:"var(--border-opacity)",borderRadius:e.variables.mainBorderRadius,pointerEvents:"none"},"&:before":{border:"6px solid ".concat(e.colors.paColor9),zIndex:oe.a.Base},"&:after":{border:"2px solid var(--border-color)",zIndex:oe.a.Above},"@media(hover: hover)":{"&:hover":{borderRadius:e.variables.mainBorderRadius,"--border-opacity":1}}},selectedBgGrid:{"--border-color":e.colors.paColor6,"--border-opacity":1},disableBgGrid:{cursor:"no-drop"},texture:{width:"100%",height:"100%",objectFit:"cover",borderRadius:e.variables.mainBorderRadius,backgroundColor:e.colors.paColor12},uploader:{padding:"14px 0",backgroundColor:e.colors.paColor9,cursor:"pointer","& > p":{color:"".concat(e.colors.paColor6," !important"),marginLeft:"0 !important",fontFamily:"Montserrat",fontWeight:500},"& > i":{display:"none !important"}},disabledUploader:{cursor:"no-drop"},commercialContainer:{margin:"4px 0",display:"flex",justifyContent:"flex-end"}}}));var Ae=function(e){var t=e.inProgress,o=Ee(),r=Object(i.e)(),c=Object(U.c)(),l=Object(U.b)().currentLanguage,u=Object(y.a)(w.c),j=Object(d.c)(),g=j.userBackgrounds,m=j.addUserBackground,v=Object(a.useState)([]),O=Object(n.a)(v,2),x=O[0],C=O[1],k=Object(a.useState)(Re.b.all),S=Object(n.a)(k,2),R=S[0],T=S[1],z=Object(a.useState)([]),B=Object(n.a)(z,2),W=B[0],D=B[1],L=Object(a.useCallback)((function(e,o){t||(r(P.a.actions.setActiveTexture(e)),r(P.a.actions.setActiveColor(null)),A.b.applyTexture(o,null===e||void 0===e?void 0:e.id))}),[t,r]),H=Object(a.useCallback)((function(e,t){var o=W.find((function(t){return t.items.some((function(t){return t.id===e.id}))}));A.b.textureClick("click",Object(s.a)({position:t},o&&{is_premium:"premium"===o.license,item_id:String(e.id),licenses:o.commercial?"commercial":"personal"})),L(e,!o)}),[W,L]),_=Object(a.useCallback)(function(){var e=Object(N.a)(I.a.mark((function e(o){var r,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(Te.f)(o[0]);case 4:r=e.sent,A.b.uploadDone(A.a.background_chooser,"success",1),(n=m(r))&&L(n,!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,L,t]);Object(a.useEffect)((function(){var e=function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.a.getBackgrounds(l);case 3:t=e.sent,C(t),D(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E.a.trigger(e.t0,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();x.length||e()}),[x,l]),Object(h.a)((function(){A.b.textureOpened()}));var F=Object(a.useCallback)((function(){return A.b.uploadDone(A.a.background_chooser,"cancel")}),[]),G=Object(a.useMemo)((function(){return[].concat(Object(Ce.a)(g),Object(Ce.a)(Se()(W,(function(e,t){return e.items.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{license:W[t].license})}))}))))}),[W,g]),$=Object(a.useCallback)((function(e,t){D(Object(Be.a)(x,t)),T(t),A.b.textureClick("click",{licenses:t?"commercial":"personal"})}),[x,T]);return Object(f.a)((function(){return r(P.a.actions.setActiveTexture(null))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{onClick:function(){return A.b.textureClick("upload")},children:Object(p.jsx)(ke.a,{className:ee()(o.removeBgItem,o.uploader,Object(X.a)({},o.disabledUploader,t)),title:c("Use Your Background"),handleFileUpload:_,onFileDialogCancel:F,dataTest:"use-your-background-button"})}),Object(p.jsx)("div",{className:o.commercialContainer,children:Object(p.jsx)(Ie.a,{value:R,onChange:$})}),Object(p.jsx)("div",{className:o.bgWrapper,children:Object(p.jsx)(ye.a,{className:o.bgGridScrolling,columnCount:b.h,columnWidth:b.k,rowHeight:b.j,width:2*b.k+b.i,height:b.l,rowCount:G.length/2,children:function(e){var r,n=e.columnIndex,a=e.rowIndex,i=e.style,l=n+2*a,s=G[l];return s?Object(p.jsx)("button",{className:ee()(o.bgGridWrap),onClick:function(){return H(s,l)},style:i,children:Object(p.jsxs)("div",{className:ee()(o.bgGrid,(r={},Object(X.a)(r,o.selectedBgGrid,u===s),Object(X.a)(r,o.disableBgGrid,t),r)),children:["premium"===(null===s||void 0===s?void 0:s.license)&&M.vh.subscription&&Object(p.jsx)(Ne.a,{size:"medium",message:c("This is a premium texture")}),Object(p.jsx)("img",{className:o.texture,src:s.preview_url||s.url,alt:"texture"})]})}):null}})})]})},We=Object(K.b)((function(e){return{removeBgContent:{display:"flex",flexFlow:"column",flexGrow:1},removeBgTitle:{marginTop:14,marginBottom:16,fontWeight:600,fontSize:16,lineHeight:1.3,color:e.colors.paColor6},removeBgItem:{display:"flex",justifyContent:"center",padding:"14px 0",border:"1px solid ".concat(e.colors.paColor84),borderRadius:7,marginBottom:8,"@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor7)}},fontSize:14,lineHeight:1.25,color:e.colors.paColor6,cursor:"pointer"},disabledObj:{opacity:.6,cursor:"default","@media(hover: hover)":{"&:hover":{border:"1px solid ".concat(e.colors.paColor84)}}},disabledItems:{cursor:"no-drop"}}})),Pe=function(e){var t=e.inProgress,o=We(),r=Object(U.c)(),n=Object(d.c)(),i=n.process,c=n.removedType,l=n.setRemovedType,s=Object(a.useCallback)((function(e){if(!t&&c!==e){l(e);var o="person"===e;A.b.applyBackground(o),i(b.c.remove,{isPerson:o})}}),[i,c,t,l]);return Object(f.a)((function(){return l(null)})),Object(p.jsxs)("div",{className:o.removeBgContent,children:[Object(p.jsx)("div",{className:o.removeBgTitle,children:r("Remove & Change Background")}),b.s.map((function(e){var n;return Object(p.jsx)("button",{className:ee()(o.removeBgItem,(n={},Object(X.a)(n,o.disabledObj,c===e.type),Object(X.a)(n,o.disabledItems,t),n)),onClick:function(){return s(e.type)},"data-test":e.dataTest,children:r(e.title)},e.type)})),c&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ae,{inProgress:t}),Object(p.jsx)(xe,{})]})]})},De=o(112),Me=Object(K.b)((function(e){return{toolContainer:{"--bg-color":e.colors.paColor75,display:"flex",alignItems:"center",marginBottom:8,padding:"10px 0 10px 12px",cursor:"pointer","@media(hover: hover)":{"&:hover":{backgroundColor:"var(--bg-color)",borderRadius:e.variables.mainBorderRadius}}},disabledTool:{"--bg-color":e.colors.paColor9,opacity:.4,cursor:"no-drop"},toolsIcon:{marginRight:16,width:24,height:24,"& path":{fill:e.colors.paColor5}},bulkToolName:{fontWeight:600,fontStyle:"normal",fontSize:16,lineHeight:1.3,color:e.colors.paColor83}}})),Le=function(e){var t=e.isSelectable,o=Me(),r=Object(U.c)(),n=Object(d.c)(),i=n.allSelected,c=n.data,l=n.setActiveTool,s=Object(a.useCallback)((function(e){t&&c.length&&(l(e),A.b.clickEvent(e),A.b.openTool(e,i))}),[t,l,i,c.length]),u=b.r.filter((function(e){return!(De.isSafari&&e.type===b.c.watermark)}));return Object(p.jsx)("div",{children:u.map((function(e){return Object(p.jsxs)("div",{className:ee()(o.toolContainer,Object(X.a)({},o.disabledTool,!c.length)),onClick:function(){return s(e.type)},"data-test":e.dataTest,children:[Object(p.jsx)(G.a,{name:e.icon_name,className:o.toolsIcon}),Object(p.jsx)("div",{className:o.bulkToolName,children:r(e.name)})]},e.type)}))})},He=Object(K.b)((function(e){return{container:{"--grid-count":"2",display:"grid",gap:16,gridTemplateColumns:"repeat(var(--grid-count), 1fr)"},singleInput:{"--grid-count":"1"},currentRatio:{display:"flex",width:"100%",alignItems:"center",height:44,padding:"0 12px",border:"1px solid #DCDDE9",borderRadius:8},inputSide:{marginBottom:4,fontSize:12,lineHeight:1.4,color:e.colors.paColor10},disabledRatio:{opacity:.4},ratioInput:{fontFamily:"Montserrat",width:"99%",fontSize:14,lineHeight:1.25,color:e.colors.paColor3},ratioTitle:{fontSize:14,lineHeight:1.25,color:e.colors.paColor186,right:0}}})),_e=function(e){var t=e.values,o=e.onChangeValue,r=e.activeSide,n=He(),i=Object(U.c)(),c=Object(d.c)(),l=c.dispatchData,u=c.resizeParams,j=Object(a.useCallback)((function(e,t){var r=e.target.value;b.f.test(r)&&o((function(e){return e.map((function(e,o){return t===o?Number(r):e}))}))}),[o]),h=Object(a.useCallback)((function(e){var t;return null===(t=e.target)||void 0===t?void 0:t.blur()}),[]),f=Object(a.useCallback)((function(){var e=t.some((function(e){return e<b.H||e>b.G})),n=t.map((function(e){return Number(e)<b.H?b.H:e>b.G?b.G:e}));e&&o(n),l({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},u),{},{width:[b.g.width,b.g.exactSize].includes(r)?n[0]:null,height:[b.g.height,b.g.exactSize].includes(r)?n[1]:null})})}),[o,t,u,r,l]);return Object(a.useEffect)((function(){A.b.applyResize(r,r===b.g.width?Number(u.width):r===b.g.height?Number(u.height):[Number(u.width),Number(u.height)])}),[u,r]),Object(p.jsx)("div",{className:ee()(n.container,Object(X.a)({},n.singleInput,r!==b.g.exactSize)),children:b.x.map((function(e,o){return[b.g.exactSize,e.type].includes(r)?Object(p.jsxs)("div",{children:[r!==b.g.exactSize&&Object(p.jsx)("p",{className:n.inputSide,children:i("Target {{side}} (px)",{side:e.type})}),Object(p.jsxs)("div",{className:n.currentRatio,children:[Object(p.jsx)("input",{className:n.ratioInput,value:t[o],onChange:function(e){return j(e,o)},onKeyPress:function(e){return"Enter"===e.key&&h(e)},onBlur:f,maxLength:4}),r===b.g.exactSize&&Object(p.jsx)("p",{className:n.ratioTitle,children:i(e.title)})]})]},e.type):null}))})},Fe=o(808),Ge=o(825),Ue=Object(K.b)((function(e){return{usePaddingContainer:{"--box-margin":"20px",backgroundColor:e.colors.paColor9,width:220},title:{marginTop:16,fontSize:12,lineHeight:1.4,color:e.colors.paColor10},paddingContainer:{marginTop:12,display:"flex",alignItems:"center"},icon:{width:20,height:20,marginRight:8,cursor:"pointer","& path":{fill:e.colors.paColor10}},usePadding:{fontSize:12,lineHeight:1.4,color:e.colors.paColor10},fillPadding:{width:30,height:30,backgroundColor:function(e){return e.bgColor||""},borderRadius:4,marginLeft:20,border:function(e){return!e.bgColor&&"1px solid #DCDDE9"}},activeFillPadding:{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:"pointer",border:function(e){return e.bgColor&&"2px solid ".concat(e.bgColor)},"&::before, &::after":{content:'""',width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:"var(--border-opacity)",borderRadius:2,pointerEvents:"none"},"&:before":{border:function(e){return e.bgColor&&"2px solid #fff"},zIndex:oe.h},"&:after":{border:"2px solid var(--border-color)",zIndex:oe.e}},pickerWrapper:{position:"relative"},transparentIcon:{width:26,height:26,"& path":{fill:e.colors.paColor16}}}})),$e=function(e){var t=e.onActivePadding,o=e.isPickerTop,r=void 0!==o&&o,c=Object(y.a)(w.a),l=Object(i.e)(),s=Object(U.c)(),u=Object(d.c)().resizeParams,b=Object(a.useRef)(null),j=Object(a.useState)(!1),h=Object(n.a)(j,2),g=h[0],m=h[1],v=Ue({bgColor:c,isPickerTop:r}),O=Object(a.useCallback)((function(){m(!1),A.b.applyPaddingColor(c||"transparent")}),[c]),x=Object(a.useCallback)((function(){t(!u.usePadding),A.b.usedPadding(!u.usePadding)}),[t,u.usePadding]);return Object(f.a)((function(){return l(P.a.actions.setActiveColor(null))})),Object(p.jsxs)("div",{className:v.usePaddingContainer,children:[Object(p.jsx)("p",{className:s(v.title),children:s("Background")}),Object(p.jsxs)("div",{className:v.paddingContainer,children:[Object(p.jsx)(G.a,{name:u.usePadding?"checkbox-checked-gen":"checkbox-unchecked-gen",className:v.icon,onClick:x}),Object(p.jsx)("p",{className:v.usePadding,children:s("Use Padding")}),Object(p.jsxs)("div",{className:v.pickerWrapper,children:[Object(p.jsx)("div",{ref:b,className:ee()(v.fillPadding,Object(X.a)({},v.activeFillPadding,u.usePadding)),onClick:function(){return m(!g)},children:!c&&Object(p.jsx)(G.a,{name:"no-color-editor",className:v.transparentIcon})}),g&&Object(p.jsx)(ve,{onClosePicker:O,fillBoxRef:b,isPickerTop:r})]})]})]})},Ke=Object(K.b)((function(e){return{socialIconsWrapper:{"--height-gutter":"96px",position:"relative",flexGrow:1,marginTop:12},socialIconsScroller:Object(s.a)(Object(s.a)({"--height-divider-value":"52px",position:"relative",height:"calc(100% - var(--height-divider-value))",marginBottom:"var(--height-divider-value)","--scroller-gap":"4px",overflowY:"auto",paddingRight:"var(--scroller-gap)"},e.scrollbars.main),{},{"-webkit-overflow-scrolling":"touch"}),selectedSocial:{"--height-divider-value":"158px"},socialContainer:{position:"absolute",top:0,right:"var(--scroller-gap)",bottom:0,left:0,display:"grid",gridTemplateColumns:"repeat(2, 50%)",gap:8},itemWrapper:{"--border-color":e.colors.paColor2,"--border-opacity":0,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.variables.mainBorderRadius,position:"relative",cursor:"pointer","&::before, &::after":{content:'""',width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:"var(--border-opacity)",borderRadius:e.variables.mainBorderRadius,pointerEvents:"none"},"&:before":{border:"6px solid #fff",zIndex:oe.j},"&:after":{border:"2px solid var(--border-color)",zIndex:oe.k},"@media(hover: hover)":{"&:hover":{borderRadius:e.variables.mainBorderRadius,"--border-opacity":1}}},selectedItem:{"--border-color":e.colors.paColor6,"--border-opacity":1},customSizeContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",flexFlow:"column",width:"100%",height:99,padding:"4px 6px 6px 4px",cursor:"pointer",backgroundColor:e.colors.paColor12,borderRadius:e.variables.mainBorderRadius},socialIcon:{display:"block",maxWidth:"70%",maxHeight:"70%",margin:"auto"},iconTitle:{display:"block",maxWidth:"80%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:600,fontSize:9,textAlign:"center"},usePaddingContainer:{position:"absolute",bottom:50,height:"var(--height-gutter)",backgroundColor:e.colors.paColor9,"&::before":{content:'""',position:"absolute",bottom:"var(--height-gutter)",left:0,right:0,width:"100%",height:"50px",display:"block",background:"linear-gradient(180deg, transparent 25.73%, ".concat(e.colors.paColor9," 81.63%)"),zIndex:oe.h,pointerEvents:"none"}}}})),Ze=function(){var e=Ke(),t=Object(U.c)(),o=Object(d.c)(),r=o.dispatchData,i=o.resizeParams,c=Object(Ge.a)().ratioCards,l=Object(a.useState)(null),u=Object(n.a)(l,2),j=u[0],h=u[1],f=Object(a.useMemo)((function(){return c.filter((function(e){return e.ratio_type!==M.bh})).map((function(e){return{id:e.id,name:e.name,preview_url:e.preview_url,type:0,size:{width:Number(e.size.width),height:Number(e.size.height)}}}))}),[c]),g=Object(a.useCallback)((function(e){j&&r({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},i),{},{width:j.size.width,height:j.size.height,usePadding:e})})}),[j,r,i]),m=Object(a.useCallback)((function(e){h(e),r({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},i),{},{width:e.size.width,height:e.size.height})}),A.b.applyResize(b.g.socials,e.id)}),[i,r]);return Object(p.jsxs)("div",{className:e.socialIconsWrapper,children:[Object(p.jsx)("div",{className:ee()(e.socialIconsScroller,Object(X.a)({},e.selectedSocial,j)),children:Object(p.jsx)("div",{className:e.socialContainer,children:f.map((function(o){return Object(p.jsx)(Fe.a,{delayShow:1e3,offset:[10,-15],hideArrow:!0,isSmall:!0,content:Object(p.jsx)("p",{children:t(o.name)}),placement:Fe.b.bottomEnd,children:Object(p.jsx)("div",{className:ee()(e.itemWrapper,Object(X.a)({},e.selectedItem,(null===j||void 0===j?void 0:j.id)===o.id)),onClick:function(){return m(o)},children:Object(p.jsxs)("div",{className:ee()(e.customSizeContainer),children:[Object(p.jsx)("img",{src:o.preview_url,alt:"som",className:e.socialIcon}),Object(p.jsx)("p",{className:e.iconTitle,children:t(o.name)})]})})},o.id)}))})}),j&&Object(p.jsx)("div",{className:e.usePaddingContainer,children:Object(p.jsx)($e,{onActivePadding:g,isPickerTop:!0})})]})},Ye=Object(K.b)((function(e){return{title:{fontFamily:"Montserrat-SemiBold",fontSize:16,lineHeight:1.3,color:e.colors.paColor6,margin:"14px 0 16px",flexShrink:1},resizeBy:{marginBottom:4,fontSize:12,lineHeight:1.4,color:e.colors.paColor10,flexShrink:1},dropdownContainer:{marginBottom:16,flexShrink:1}}})),Ve=function(){var e=Ye(),t=Object(U.c)(),o=Object(d.c)(),r=o.dispatchData,i=o.resizeParams,c=Object(a.useState)(b.E[0]),l=Object(n.a)(c,2),u=l[0],j=l[1],h=Object(a.useState)(b.F),f=Object(n.a)(h,2),g=f[0],m=f[1],v=Object(a.useCallback)((function(e){r({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},i),{},{width:g[0],height:g[1],usePadding:e})})}),[g,r,i]),O=Object(a.useCallback)((function(e){j(e),e!==b.g.socials&&r({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},i),{},{width:e!==b.g.height?g[0]:null,height:e!==b.g.width?g[1]:null,usePadding:!0})})}),[r,g,i]);return Object(a.useEffect)((function(){[b.g.socials,b.g.exactSize].includes(u)&&(A.b.usedPadding(!0),A.b.applyPaddingColor("transparent"))}),[u]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:e.title,children:t("Resize")}),Object(p.jsx)("div",{className:e.resizeBy,children:t("Resize by")}),Object(p.jsx)("div",{className:e.dropdownContainer,children:Object(p.jsx)(ne,{content:b.E,onChangeItem:O,activeItem:u})}),u===b.g.socials?Object(p.jsx)(Ze,{}):Object(p.jsx)(_e,{values:g,onChangeValue:m,activeSide:u}),u===b.g.exactSize&&Object(p.jsx)($e,{onActivePadding:v})]})},qe=o(1431),Je=Object(K.b)((function(e){return{title:{margin:"14px 0 0 2px",fontWeight:600,fontSize:16,lineHeight:1.3,color:e.colors.paColor6},cropContent:{margin:"0 2px"},cropBySize:{fontSize:12,lineHeight:2.2,color:e.colors.paColor10,margin:"16px 0 4px 0",position:"relative"},sizeDropdown:{position:"relative"},cropSectionTitle:{fontSize:12,lineHeight:2.2,color:e.colors.paColor10,margin:"16px 0 4px 0",position:"relative"},dropdownContainer:{maxWidth:216},orientationItemContainer:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:8},cropSection:{"&:disabled":{cursor:"no-drop",opacity:.4,backgroundColor:e.colors.paColor9,"@media(hover: hover)":{"&:hover":{background:e.colors.paColor9}}},display:"flex",justifyContent:"center",height:34,fontWeight:600,padding:"10px 0",borderRadius:8,marginBottom:8,"@media(hover: hover)":{"&:hover":{background:e.colors.paColor153}},fontSize:12,lineHeight:1.25,color:e.colors.paColor10,cursor:"pointer"},activeItem:{backgroundColor:e.colors.paColor4,color:e.colors.paColor10},alignItemContainer:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridGap:4},alignSection:{justifyContent:"center",borderRadius:8,height:32,width:32,"@media(hover: hover)":{"&:hover":{background:e.colors.paColor153}},cursor:"pointer"},alignIcon:{width:24,height:24,"& path":{fill:e.colors.paColor5}}}})),Xe=function(e){var t=e.isDisabled,o=void 0!==t&&t,r=Object(i.e)(),n=Je(),a=Object(U.c)(),c=Object(y.a)(w.g);return Object(h.a)((function(){return A.b.applyCrop({orientation:b.u[0]})})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:n.cropSectionTitle,children:a("Orientation")}),Object(p.jsx)("div",{className:n.orientationItemContainer,children:b.u.map((function(e){return Object(p.jsx)("button",{className:ee()(n.cropSection,Object(X.a)({},n.activeItem,c===e)),onClick:function(){return t=e,r(P.a.actions.setCropOrientation(t)),void A.b.applyCrop({orientation:t});var t},disabled:o,children:a(e)},e)}))})]})},Qe=function(){var e=Object(i.e)(),t=Je(),o=Object(U.c)(),r=Object(y.a)(w.e);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:t.cropSectionTitle,children:o("Align")}),Object(p.jsx)("div",{className:t.alignItemContainer,children:b.t.map((function(o){return Object(p.jsx)("span",{className:ee()(t.alignSection,Object(X.a)({},t.activeItem,r===o.title)),onClick:function(){return t=o.title,e(P.a.actions.setCropAlign(t)),void A.b.applyCrop({align:t});var t},children:Object(p.jsx)(G.a,{name:o.icon_name,className:t.alignIcon})},o.id)}))})]})},et=function(){var e,t,o=Object(i.e)(),r=Je(),n=Object(U.c)(),c=Object(Ge.a)().showAsCategoryCardData,l=Object(a.useMemo)((function(){return c.map((function(e,t){return 0===t?Object(s.a)(Object(s.a)({},e),{},{title:"FreeForm",iconName:"all-templates-editor"}):Object(s.a)(Object(s.a)({},e),{},{title:e.name,iconUrl:e.preview_small_url,sizes:e.size})}))}),[c]),u=Object(a.useCallback)((function(e){Object(i.b)((function(){o(P.a.actions.setCropTemplate(e)),o(P.a.actions.setCropAlign(null))})),A.b.applyCrop({templateForm:e.title})}),[o]),d=Object(y.a)(w.h);return Object(h.a)((function(){return A.b.applyCrop({templateForm:P.b.title})})),Object(f.a)((function(){Object(i.b)((function(){o(P.a.actions.setCropTemplate(P.b)),o(P.a.actions.setCropAlign(null)),o(P.a.actions.setCropOrientation(b.u[0]))}))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:r.title,children:n("Crop")}),Object(p.jsx)("div",{className:r.cropBySize,children:n("Crop by")}),Object(p.jsx)("div",{className:r.dropdownContainer,children:Object(p.jsx)(qe.a,{options:l,onChange:u,value:d})}),Object(p.jsxs)("div",{className:r.cropContent,children:[Object(p.jsx)(Xe,{isDisabled:!(null===d||void 0===d?void 0:d.sizes)||(null===d||void 0===d||null===(e=d.sizes)||void 0===e?void 0:e.width)===(null===d||void 0===d||null===(t=d.sizes)||void 0===t?void 0:t.height)}),Object(p.jsx)(Qe,{})]}),Object(p.jsx)("div",{})]})},tt=o(389),ot=o(251),rt=o(29),nt=Object(K.b)((function(e){return{rangeWrapper:{display:"grid",gridGap:12,gridTemplateColumns:"136px 1fr",alignItems:"center"},inputRange:{position:"relative",borderRadius:e.variables.mainBorderRadius,cursor:"pointer","-webkit-appearance":"none",height:1,outline:"none",width:"100%",zIndex:oe.a.Above,"&::-webkit-slider-thumb":{"-webkit-appearance":"none",appearance:"none",width:14,height:14,cursor:"pointer",borderRadius:2,boxSizing:"border-box",background:e.colors.paColor9,border:"1px solid ".concat(e.colors.paColor14)},"&::-moz-range-thumb":{"-moz-appearance":"none",appearance:"none",width:14,height:14,cursor:"pointer",borderRadius:2,boxSizing:"border-box",background:e.colors.paColor9,border:"1px solid ".concat(e.colors.paColor14)},"&::-moz-focus-outer":{border:"none"}},inputRangContainer:{display:"flex",flexDirection:"column",marginBottom:8,justifyContent:"space-around"},rangeWrap:{position:"relative","&::before, &::after":{content:"''",display:"block",height:1,position:"absolute",top:"50%",left:"0",right:"0",opacity:"0.7",transform:"translateY(-50%)"},"&::before":{background:e.colors.paColor14,width:"var(--progressValue)",zIndex:oe.a.Above},"&::after":{background:e.colors.paColor2}},settingName:{fontSize:12,color:e.colors.darkGrey,fontWeight:400,lineHeight:1.4,userSelect:"none"},settingValue:{width:58,height:40,display:"flex",textAlign:"center",border:"1px solid ".concat(e.colors.paColor2),borderRadius:e.variables.mainBorderRadius,fontSize:14,color:e.colors.paColor14,"-moz-appearance":"textfield","-webkit-appearance":"textfield","&::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0,"-moz-appearance":"textfield"},"&:hover":{border:"1px solid ".concat(e.colors.paColor208)},"&:focus":{border:"1px solid ".concat(e.colors.paColor208)}}}})),at=function(e){var t=e.label,o=e.min,r=e.max,n=e.value,a=e.onChange,i=nt(),c=(n-o)/(r-o)*100;return Object(p.jsxs)("div",{className:i.inputRangContainer,children:[Object(p.jsx)("div",{className:i.settingName,children:t}),Object(p.jsxs)("div",{className:i.rangeWrapper,children:[Object(p.jsx)("div",{className:i.rangeWrap,style:{"--progressValue":"".concat(c,"%")},children:Object(p.jsx)("input",{className:i.inputRange,type:"range",min:o,max:r,value:n,onChange:function(e){return a(Number(e.target.value))}})}),Object(p.jsx)("input",{className:i.settingValue,type:"number",value:n,onChange:function(e){return a(Number(e.target.value))},min:o,max:r})]})]})},it=Object(K.b)((function(e){return{watermarkContent:{display:"flex",flexFlow:"column",flexGrow:1},uploadsTitle:{fontWeight:600,padding:"4px 0",fontSize:12,lineHeight:2,color:e.colors.paColor208,marginBottom:4},logosContainer:{flexShrink:0,position:"relative",width:"100%"},deleteContainer:{opacity:0,position:"absolute",left:8,top:8,width:24,height:24,backgroundColor:e.colors.paColor9,borderRadius:e.variables.mainBorderRadius/2,zIndex:oe.a.Above},deleteIcon:{width:20,height:20},logoPreview:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gridGap:"var(--item-gap)"},logosScrolling:Object(s.a)(Object(s.a)({"--item-box-height":"102px","--item-gap":"8px","--max-visible-item-count":"2",paddingInlineEnd:4,maxHeight:"calc(var(--max-visible-item-count) * var(--item-box-height) + (calc(var(--max-visible-item-count) - 1) * var(--item-gap)))",marginBottom:12,overflowY:"auto"},e.scrollbars.main),{},{height:"100%","-webkit-overflow-scrolling":"touch"}),itemWrapper:{"--border-color":e.colors.paColor2,"--border-opacity":0,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:e.variables.mainBorderRadius,position:"relative",cursor:"pointer","&::before, &::after":{content:'""',width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:"var(--border-opacity)",borderRadius:e.variables.mainBorderRadius,pointerEvents:"none"},"&:before":{border:"6px solid ".concat(e.colors.paColor9),zIndex:oe.j},"&:after":{border:"2px solid var(--border-color)",zIndex:oe.k},"@media(hover: hover)":{"&:hover":{borderRadius:e.variables.mainBorderRadius,"--border-opacity":1}},"&:hover":{"& $deleteContainer":{opacity:1},"&:before":{background:e.colors.paColor163}}},selectedItem:{"--border-color":e.colors.paColor6,"--border-opacity":1},logoContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",flexFlow:"column",width:"100%",height:"var(--item-box-height)",padding:"4px 6px 6px 4px",cursor:"pointer",backgroundColor:e.colors.paColor12,borderRadius:e.variables.mainBorderRadius,background:"url(".concat(M.O,"/64814455576311042242.svg) center center/cover no-repeat"),backgroundSize:700},logo:{position:"absolute",left:0,top:0,width:"100%",height:"100%",objectFit:"contain",borderRadius:e.variables.mainBorderRadius},uploadButton:{display:"flex",position:"relative",flexShrink:0,justifyContent:"center",alignItems:"center",margin:"24px 0 12px",border:"1px solid ".concat(e.colors.paColor84),padding:"14px 0",borderRadius:e.variables.mainBorderRadius,"& $uploaderTitle":{color:"".concat(e.colors.paColor6)}},title:{flexShrink:0,margin:"14px 0 0 2px",fontWeight:600,fontSize:16,lineHeight:1.3,color:e.colors.paColor208},selectAll:{display:"flex",marginInlineEnd:26,fontSize:14,lineHeight:1.25,color:e.colors.paColor83,alignItems:"center",cursor:"pointer"},doneIcon:{position:"absolute",left:0,top:0,width:28,height:28,"& path":{fill:e.colors.paColor83,stroke:""}},checkboxContainer:{position:"relative",marginInlineStart:4,marginInlineEnd:2,width:28,height:28,borderRadius:e.variables.mainBorderRadius},settingsWrapper:{position:"relative",flexGrow:1},settingsContainer:Object(s.a)({position:"absolute",top:0,left:0,right:0,bottom:102,overflow:"auto","-webkit-overflow-scrolling":"touch"},e.scrollbars.main),colorControls:{position:"absolute",left:0,right:0,bottom:64,display:"flex",paddingTop:8},pickerWrapper:{position:"relative"},pickerBox:{width:30,height:30,backgroundColor:function(e){return e.pickerColor||null},borderRadius:e.variables.mainBorderRadius/2,border:function(t){return!t.bgColor&&"1px solid ".concat(e.colors.paColor2)}},preserveColor:{fontSize:12,lineHeight:1.4,color:e.colors.paColor10},transparentIcon:{width:26,height:26,"& path":{fill:e.colors.paColor16}}}})),ct=function(e){var t=e.settings,o=e.onChangeSettings,r=e.preserveColor,c=e.onChangePreserveColor,l=e.startProcess,u=Object(i.e)(),d=Object(a.useState)(!1),b=Object(n.a)(d,2),j=b[0],h=b[1],f=Object(U.c)(),g=Object(y.a)((function(e){return{activeRGB:Object(w.b)(e),activeColor:Object(w.a)(e)}})),m=g.activeRGB,v=g.activeColor,O=it({pickerColor:v}),x=Object(a.useRef)(null),C=Object(a.useCallback)(function(){var e=Object(N.a)(I.a.mark((function e(t,r,n,a){var i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r>n?n:r<a?a:r,o((function(e){return e.map((function(e){return e.type===t?Object(s.a)(Object(s.a)({},e),{},{value:i}):e}))})),l(t,i),A.b.applyWatermark(t,i);case 4:case"end":return e.stop()}}),e)})));return function(t,o,r,n){return e.apply(this,arguments)}}(),[o,l]),k=Object(a.useCallback)((function(e){h(!1),c(!1),l("",0,!1),A.b.applyWatermarkColor(!1,e)}),[l,c]);return Object(a.useEffect)((function(){A.b.applyWatermarkColor(r)}),[r]),Object(p.jsxs)("div",{className:O.settingsWrapper,children:[Object(p.jsx)("div",{className:O.settingsContainer,children:t.map((function(e){return Object(p.jsx)(at,{label:f(e.label),min:e.min,max:e.max,value:e.value,onChange:function(t){return C(e.type,t,e.max,e.min)}},e.type)}))}),Object(p.jsxs)("div",{className:O.colorControls,children:[Object(p.jsxs)("div",{className:O.selectAll,onClick:function(){c(!r),l("",0,!r),u(P.a.actions.setActiveColor(null))},children:[Object(p.jsx)("div",{className:O.checkboxContainer,children:Object(p.jsx)(G.a,{name:r?"checkbox-checked-gen":"checkbox-unchecked-gen",className:O.doneIcon})}),Object(p.jsx)("p",{className:O.preserveColor,children:f("Preserve Color")})]}),Object(p.jsxs)("div",{className:O.pickerWrapper,children:[Object(p.jsx)("div",{className:O.pickerBox,onClick:function(){return h(!j)},ref:x,children:!m&&Object(p.jsx)(G.a,{name:"no-color-editor",className:O.transparentIcon})}),j&&Object(p.jsx)(ve,{isPickerTop:!0,fillBoxRef:x,onClosePicker:k})]})]})]})},lt=function(e){var t=e.startProcess,o=e.selectedLogoId,r=e.onChangeLogoId,n=Object(y.a)((function(e){return{activeRGB:Object(w.b)(e),activeColor:Object(w.a)(e),userWatermarks:Object(w.i)(e)}})),a=n.activeRGB,c=n.userWatermarks,l=n.activeColor,s=it({pickerColor:l}),u=Object(U.c)(),d=Object(i.e)(),j=function(){var e=Object(N.a)(I.a.mark((function e(o,n){var i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(o),e.next=3,Object(rt.a)(n);case 3:return i=e.sent,e.next=6,ot.a.init(i,a||b.v);case 6:t();case 7:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}();return Object(h.a)((function(){return c.length&&t()})),Object(p.jsxs)("div",{className:s.logosContainer,children:[Object(p.jsx)("p",{className:s.uploadsTitle,children:u("Uploads")}),Object(p.jsx)("div",{className:s.logosScrolling,children:Object(p.jsx)("div",{className:s.logoPreview,children:c.map((function(e,t){return Object(p.jsxs)("div",{className:ee()(s.itemWrapper,Object(X.a)({},s.selectedItem,o===t)),children:[Object(p.jsx)("div",{className:s.deleteContainer,onClick:function(){return function(e){e===o&&1!==c.length&&j(0,c[0]),d(P.a.actions.deleteWatermark(e))}(t)},children:Object(p.jsx)(G.a,{name:"delete-editor",className:s.deleteIcon})}),Object(p.jsx)("div",{className:s.logoContainer,onClick:function(){return j(t,e)},children:Object(p.jsx)("img",{className:s.logo,src:e,alt:"logo"})})]},e)}))})})]})},st=(b.A-b.C)/100,ut=(b.z-b.B)/100,dt=function(){var e=Object(d.c)().process,t=Object(i.e)(),o=Object(U.c)(),r=Object(y.a)((function(e){return{activeRGB:Object(w.b)(e),activeColor:Object(w.a)(e),userWatermarks:Object(w.i)(e)}})),c=r.activeRGB,l=r.activeColor,s=r.userWatermarks,u=Object(a.useState)(b.M),j=Object(n.a)(u,2),h=j[0],g=j[1],m=it({pickerColor:l}),v=Object(a.useState)(!0),O=Object(n.a)(v,2),x=O[0],C=O[1],k=Object(a.useState)(0),S=Object(n.a)(k,2),R=S[0],T=S[1],z=Object(a.useMemo)((function(){return Object(tt.debounce)(200,e)}),[e]),B=Object(a.useCallback)((function(){var e,t,o,r,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,s=a===b.p.tileSize?i:(null===(e=h.find((function(e){return e.type===b.p.tileSize})))||void 0===e?void 0:e.value)||0,u=a===b.p.spacing?i:(null===(t=h.find((function(e){return e.type===b.p.spacing})))||void 0===t?void 0:t.value)||0,d=a===b.p.linePadding?i:(null===(o=h.find((function(e){return e.type===b.p.linePadding})))||void 0===o?void 0:o.value)||0,p=a===b.p.lineWidth?i:(null===(r=h.find((function(e){return e.type===b.p.lineWidth})))||void 0===r?void 0:r.value)||0,j=a===b.p.opacity?i:(null===(n=h.find((function(e){return e.type===b.p.opacity})))||void 0===n?void 0:n.value)||0;z(b.c.watermark,{tileSize:s*st+b.C,spacing:u*ut+b.B,linePadding:d,lineWidth:p,opacity:j,preserveColor:l,color:c})}),[c,x,h,z]),E=function(){var e=Object(N.a)(I.a.mark((function e(o,r){var n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=URL.createObjectURL(o[0]),e.next=3,Object(rt.a)(n);case 3:return a=e.sent,e.next=6,ot.a.init(a,c||b.v);case 6:B(),t(P.a.actions.setUserWatermarks(n)),T(0),A.b.uploadDone(A.a.batch_editor,r?"fail":"success");case 10:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),W=Object(a.useCallback)((function(){return A.b.uploadDone(A.a.batch_editor,"cancel")}),[]),D=Object(a.useCallback)((function(){return A.b.uploadClick(A.a.batch_watermark)}),[]);return Object(f.a)((function(){return t(P.a.actions.setActiveColor(null))})),Object(p.jsxs)("div",{className:m.watermarkContent,children:[Object(p.jsx)("div",{className:m.title,children:o("Make your watermark")}),Object(p.jsx)("div",{className:m.uploadButton,children:Object(p.jsx)(Y,{onClick:D,onCancel:W,onSelect:E,allowMultiple:!1,title:o("Upload Logo"),useIcon:!1})}),!!s.length&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(lt,{startProcess:B,selectedLogoId:R,onChangeLogoId:T}),Object(p.jsx)(ct,{settings:h,onChangeSettings:g,preserveColor:x,onChangePreserveColor:C,startProcess:B})]})]})},bt=Object(K.b)((function(e){return{sidebarContainer:{"--horizontal-gutter":"24px","--logo-height":"24px",display:"grid",gridTemplateRows:"var(--logo-height) 1fr",gap:"42px",backgroundColor:e.colors.paColor9,borderRadius:16,position:"relative",padding:"var(--horizontal-gutter) var(--horizontal-gutter) var(--horizontal-gutter) 22px"},sidebarContentWrap:{"--footer-btn-height":"40px","--footer-btn-gap":"12px",display:"flex",flexFlow:"column"},sidebarBrandLink:{width:104}}})),pt=function(){var e=bt(),t=Object(d.c)(),o=t.data,r=t.selectedData,n=t.setSelectedKeys,i=t.activeTool,c=t.setActiveTool,l=Object(J.a)().showUploaderError,u=Object(d.c)(),j=u.dispatchData,h=u.resizeParams,f=Object(a.useMemo)((function(){return!!(b.a-o.length)}),[o.length]),g=Object(a.useMemo)((function(){return r.some((function(e){return e.status===M.G.IN_PROGRESS}))}),[r]),m=Object(a.useMemo)((function(){return!g&&r.some((function(e){return e.status===M.G.DONE}))||!!i&&[b.c.resize,b.c.crop].includes(i)}),[g,r,i]),v=Object(a.useCallback)((function(){n([]),c(null),j({type:d.b.SET_RESIZE_PARAMS,params:Object(s.a)(Object(s.a)({},h),{},{width:800,height:null})})}),[c,n,j,h]),O=Object(a.useCallback)((function(){A.b.clickEvent("upload"),!f&&l(b.b.exceededFilesLimit)}),[f,l]),x=Object(a.useCallback)((function(){return A.b.uploadDone(A.a.batch_editor,"cancel")}),[]);return Object(p.jsxs)("div",{className:e.sidebarContainer,children:[Object(p.jsx)(_.b,{to:"/",className:e.sidebarBrandLink,children:Object(p.jsx)("img",{src:M.Jd,alt:"logo",loading:"lazy",height:M.Kb})}),Object(p.jsx)("div",{className:e.sidebarContentWrap,children:i?Object(p.jsxs)(fe,{onClose:v,isDone:m,children:[i===b.c.upscale&&Object(p.jsx)(ue,{inProgress:g}),i===b.c.remove&&Object(p.jsx)(Pe,{inProgress:g}),i===b.c.resize&&Object(p.jsx)(Ve,{}),i===b.c.crop&&Object(p.jsx)(et,{}),i===b.c.watermark&&Object(p.jsx)(dt,{})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Le,{isSelectable:!!o.length}),!!o.length&&Object(p.jsx)(q,{onClick:O,onCancel:x,isOpen:f})]})})]})},jt=o(937),ht=o.n(jt),ft=Object(K.b)((function(e){return{uploaderWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:512,height:512,borderRadius:"50%",position:"relative",cursor:"pointer","@media(hover: hover)":{"&:hover":{"& $title":{color:e.colors.paColor1},"& $uploadIcon path":{fill:e.colors.paColor1}}}},uploadDrag:{backgroundColor:e.colors.paColor76},uploadIcon:{width:114,"& path":{fill:e.colors.paColor10}},dragIcon:{"& path":{fill:e.colors.paColor1}},iconContainer:{display:"flex",justifyContent:"center",position:"relative"},title:{display:"flex",justifyContent:"center",marginBottom:8,fontWeight:600,fontSize:18,lineHeight:"24px",color:e.colors.paColor10},dragTitle:{color:e.colors.paColor1},text:{display:"flex",textAlign:"center",fontSize:14,lineHeight:"24px",color:e.colors.paColor10,width:392}}})),gt=function(){var e=Object(U.c)(),t=ft(),o=Object(d.c)().acceptFiles,r=Object(a.useCallback)((function(){return A.b.uploadDone(A.a.batch_editor,"cancel")}),[]),n=Object($.a)(r),i=n.uploadClickEvent,c=n.fileChangeEvent,l=Object(a.useCallback)((function(e,t){o(e,!!t.length)}),[o]),j=Object(u.a)({onDrop:l,accept:b.q,multiple:!0}),h=j.getRootProps,f=j.getInputProps,g=j.isDragActive,m=Object(a.useMemo)(f,[f]),v=Object(a.useMemo)(h,[h]),O=Object(a.useCallback)((function(e){c(),m.onChange(e)}),[c,m.onChange]),x=Object(a.useCallback)((function(e){i(),A.b.clickEvent("upload"),v.onClick(e)}),[i,v.onClick]);return Object(p.jsxs)("div",Object(s.a)(Object(s.a)({},v),{},{onClick:x,className:ee()(t.uploaderWrapper,Object(X.a)({},t.uploadDrag,g)),children:[Object(p.jsx)("input",Object(s.a)(Object(s.a)({},m),{},{onChange:O,"data-test":"upload-input"})),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:t.iconContainer,children:Object(p.jsx)(G.a,{name:"upload-gen",className:ee()(t.uploadIcon,Object(X.a)({},t.dragIcon,g))})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:ee()(t.title,Object(X.a)({},t.dragTitle,g)),"data-test":"upload-title",children:e("Upload Multiple Images")}),Object(p.jsx)("div",{className:t.text,"data-test":"upload-text",children:e("or drag and drop multiple images to use the Batch Editor")})]})]})]}))},mt=o(859),vt=o(856),Ot=Object(K.b)((function(e){return{"@keyframes rotate-loader":{"0%":{transform:"rotateZ(0deg)"},"100%":{transform:"rotateZ(-360deg)"}},"@keyframes loader-success":{"0%":{strokeDashoffset:"-176%"},"100%":{strokeDashoffset:"-44%"}},"@keyframes loader-error":{"0%":{strokeDasharray:"var(--stroke-dasharray-loading)",strokeDashoffset:"-176%"},"35%":{strokeDasharray:"var(--stroke-dasharray-loading)"},"100%":{strokeDasharray:"var(--stroke-dasharray-error)",strokeDashoffset:"-1"}},"@keyframes fade":{to:{opacity:0}},progressLoadingWrap:{"--box-bg-color":e.colors.paColor77,"--box-circle-bg-color":e.colors.paColor78,"--box-inner-gutter":"13px","--stroke-dasharray-loading":"40% 0% 40% 1000%","--stroke-dasharray-error":"55% 48% 55% 1000%","--inner-gutter":"24px","--progress-transition":".3s ease",position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexFlow:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",padding:"var(--inner-gutter)",backgroundColor:e.colors.paColor152,opacity:0,transition:"all var(--progress-transition)",zIndex:oe.g,pointerEvents:"none"},progressLoadingBox:{position:"relative",display:"flex",width:64,height:64,padding:"var(--box-inner-gutter)",backgroundColor:"var(--box-bg-color)",borderRadius:"50%",transition:"all var(--progress-transition)",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"calc(100% - (calc(2 * var(--box-inner-gutter))))",height:"calc(100% - (calc(2 * var(--box-inner-gutter))))",backgroundColor:"var(--box-circle-bg-color )",borderRadius:"50%",transition:"background-color var(--progress-transition)"}},onProgressState:{opacity:1},onSuccessState:{"--box-bg-color":e.colors.paColor79,opacity:1,animation:"0.5s $fade 2s ease-out 1 forwards"},onErrorState:{"--box-bg-color":e.colors.paColor80,opacity:1},loader:{width:"84%",height:"84%",margin:"auto",transform:"rotateZ(0deg)"},loaderProgress:{animation:"$rotate-loader 0.8s linear infinite"},loaderSuccess:{"--box-circle-bg-color":e.colors.paColor81,"& $loaderPath":{animation:"$loader-success 0.5s ease-out 1 forwards"}},loaderError:{"--box-circle-bg-color":e.colors.paColor18,"& $loaderPath":{animation:"$loader-error 0.6s ease-out 1 forwards"}},loaderPath:{fill:"transparent",stroke:"white",strokeWidth:4,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"var(--stroke-dasharray-loading)",strokeDashoffset:"-176%"},retryButtonWrap:{position:"absolute",right:"var(--inner-gutter)",bottom:"var(--inner-gutter)",left:"var(--inner-gutter)",display:"flex",justifyContent:"center",maxWidth:"calc(100% - (var(--inner-gutter) * 2))","& $retryButtonIcon":{margin:0,width:20}},retryButton:{display:"grid",gridAutoFlow:"column",gap:10,color:e.colors.paColor19,borderColor:e.colors.paColor9,fontSize:"16px",transition:"all var(--progress-transition)","&:hover":{background:e.colors.paColor9,color:e.colors.paColor6,borderColor:e.colors.paColor9}},retryButtonIcon:{"& path":{transition:"fill var(--progress-transition)",fill:"currentColor"}}}})),xt={in_progress:"M17.5,42.3l23.2-23.2L23.9,35.9l-17-17c3.4-8.1,11.3-13.7,20.6-13.7c12.3,0,22.3,10,22.3,22.3 s-10,22.3-22.3,22.3S5.2,39.8,5.2,27.5c0-3.1,0.6-6,1.7-8.6",done:"M17.5,42.3l23.2-23.2L23.9,35.9l-17-17c3.4-8.1,11.3-13.7,20.6-13.7c12.3,0,22.3,10,22.3,22.3 s-10,22.3-22.3,22.3S5.2,39.8,5.2,27.5c0-3.1,0.6-6,1.7-8.6",error:"M15.8,39.2l23.4-23.4v23.4L11.7,11.7c4-4,9.6-6.5,15.8-6.5c12.3,0,22.3,10,22.3,22.3s-10,22.3-22.3,22.3 S5.2,39.8,5.2,27.5c0-6.2,2.5-11.8,6.6-15.8",pending:""},Ct=function(e){var t,o,r=e.status,i=Ot(),c=Object(a.useMemo)((function(){return[r===M.G.DONE,r===M.G.IN_PROGRESS,r===M.G.ERROR]}),[r]),l=Object(n.a)(c,3),s=l[0],u=l[1],d=l[2],b=Object(a.useMemo)((function(){return xt[r]}),[r]);return Object(p.jsx)("div",{className:ee()(i.progressLoadingWrap,(t={},Object(X.a)(t,i.onProgressState,u),Object(X.a)(t,i.onSuccessState,s),Object(X.a)(t,i.onErrorState,d),t)),children:Object(p.jsx)("div",{className:ee()(i.progressLoadingBox,(o={},Object(X.a)(o,i.loaderProgress,u),Object(X.a)(o,i.loaderSuccess,s),Object(X.a)(o,i.loaderError,d),o)),children:Object(p.jsx)("svg",{className:i.loader,viewBox:"0 0 55 55",xmlSpace:"preserve",children:Object(p.jsx)("path",{className:i.loaderPath,d:b})})})})},kt=o(936),yt=Object(K.b)((function(e){return{mainContent:{"--top-gutter":"64px","--bottom-gutter":"24px","--side-gutter":"38px",position:"relative",padding:"var(--top-gutter) var(--side-gutter) var(--bottom-gutter)",width:"100%",backgroundColor:e.colors.paColor9,borderRadius:16,display:"flex",alignItems:"center",justifyContent:"center",'& > [class^="uploaderWrapper"]':{outline:"none"}},mainContentGridWrap:Object(s.a)({position:"absolute",top:"var(--top-gutter)",right:"var(--side-gutter)",paddingRight:8,bottom:"var(--bottom-gutter)",left:"var(--side-gutter)",maxHeight:"100%",overflowY:"auto","-webkit-overflow-scrolling":"touch"},e.scrollbars.main),mainContentGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gridGap:12,"& > div":{position:"relative",paddingTop:"100%"}},gridItemContainer:{borderRadius:e.variables.mainBorderRadius,background:"linear-gradient(0deg, ".concat(e.colors.paColor75,", ").concat(e.colors.paColor75,")"),overflow:"hidden",userSelect:"none"},gridOverlay:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:oe.f,"@media(hover: hover)":{"&:hover":{background:e.colors.paColor163}}},hoverGridItem:{"@media(hover: hover)":{"&:hover":{"& $checkbox":{opacity:1},"& $gridBtnsContainer":{opacity:1},"& $gridBtn":{cursor:"pointer"}}}},gridItem:{position:"absolute",height:"100%",width:"100%",top:0,left:0},selectedGridItem:{"& $gridOverlay":{background:e.colors.paColor163},"& $checkbox":{opacity:1},"& $gridBtnsContainer":{opacity:1,cursor:"pointer"}},gridImageWrap:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:function(e){return null===e||void 0===e?void 0:e.width},height:function(e){return null===e||void 0===e?void 0:e.height},background:"url(".concat(M.O,"/64814455576311042242.svg) center center/cover no-repeat")},gridImage:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%"},watermark:{position:"absolute",width:"100%",height:"100%",top:0,left:0},checkbox:{position:"absolute",top:12,left:12,width:20,height:20,zIndex:oe.a.Base,borderRadius:2,border:"0.09375em solid ".concat(e.colors.paColor9),opacity:0},selectedCheckbox:{backgroundColor:e.colors.paColor9,border:"0.09375em solid transparent"},doneIcon:{"& svg":{width:"70%",height:"70%",marginLeft:3,marginTop:2},"& path":{fill:e.colors.paColor6,stroke:e.colors.paColor6}},gridBtnsContainer:{"--grid-item-count":2,display:"grid",gridGap:8,gridTemplateColumns:"repeat(var(--grid-item-count), auto)",position:"absolute",bottom:12,right:12,opacity:0},gridSingleBtnContainer:{"--grid-item-count":1},gridBtn:{padding:5,width:36,height:32,backgroundColor:e.colors.paColor9,borderRadius:4,"@media(hover: hover)":{"&:hover path":{fill:e.colors.paColor3}}},gridIcon:{"& path":{fill:e.colors.paColor82}},dragContent:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",backgroundColor:e.colors.paColor164,zIndex:oe.c,top:0,left:0},iconContainer:{width:"100%",height:110,"& path":{fill:e.colors.paColor82}},dragText:{fontWeight:600,fontSize:18,lineHeight:1.35,color:e.colors.paColor10},uploadIcon:{width:114,"& path":{fill:e.colors.paColor10}}}})),wt=function(e){var t=e.isSelectedItem,o=e.isUploadDone,r=e.imgSrc,i=e.children,c=e.itemKey,l=yt(),s=Object(d.c)().activeTool,u=Object(a.useState)({width:0,height:0}),j=Object(n.a)(u,2),h=j[0],f=h.width,g=h.height,m=j[1],v=Object(a.useMemo)((function(){return b.d[s||"defaultItem"].component}),[s]),O=Object(a.useCallback)((function(e){e&&m({width:e.offsetWidth,height:e.offsetHeight})}),[]);return Object(p.jsxs)("div",{ref:O,className:ee()(l.gridItemContainer,l.hoverGridItem,Object(X.a)({},l.selectedGridItem,t)),"data-test":"photo-item",children:[o&&Object(p.jsx)(v,{imgSrc:r,boxWidth:f,boxHeight:g,itemKey:c}),i]})},St=function(e){var t=e.onSelectImages,o=e.data,r=e.isAllowedDownload,n=yt(),c=Object(i.e)(),l=Object(d.c)(),s=l.selectedKeys,u=l.setIsSuccessModal,j=l.uploadedData,h=l.setSelectedKeys,f=l.activeTool,g=Object(kt.a)({width:b.e,height:b.e}),m=Object(D.a)(),v=m.subscribed,O=m.waitingUser,x=Object(a.useRef)(null),C=Object(a.useMemo)((function(){return Object(Ce.a)(o).reverse()}),[o]),k=Object(a.useMemo)((function(){return j.status===M.G.DONE}),[j]),y=Object(a.useCallback)((function(e){return!f&&s.includes(e)}),[f,s]),w=Object(a.useCallback)((function(e){var t=o.find((function(t){return t.key===e}));t&&r(t.isProcessed)&&(A.b.clickEvent("download_single_item"),A.b.download(1),Object(Te.a)(t.result.src),u(!0),h([]))}),[o,u,r,h]),S=Object(a.useCallback)((function(e){window.open("".concat(origin).concat(M.C,"/editor?batch_key=").concat(e))}),[]),I=Object(a.useCallback)((function(e){return!!j.count&&j.count>e}),[j]),N=Object(a.useCallback)((function(e){c(P.a.actions.setEraserItem(e)),A.b.clickEvent("tool_cutout"),A.b.openTool("tool_cutout",!1)}),[c]);return Object(p.jsx)("div",{className:n.mainContentGridWrap,children:Object(p.jsx)("div",{className:n.mainContentGrid,children:C.map((function(e,o){var r=(e.pendingResult||e.result).src,a=y(e.key),i=I(o);return Object(p.jsxs)(wt,{isSelectedItem:a,isUploadDone:k,imgSrc:r,itemKey:e.key,children:[(f||i)&&Object(p.jsx)(Ct,{status:i&&!f?j.status:e.status}),!O&&e.isProcessed&&!v&&Object(p.jsx)("img",{src:null===g||void 0===g?void 0:g.src,alt:"vmImage",className:n.watermark}),Object(p.jsxs)("div",{className:n.gridOverlay,ref:x,children:[!f&&Object(p.jsx)("button",{onClick:function(){return t(e.key)},className:n.gridItem,children:Object(p.jsx)("div",{className:ee()(n.checkbox,Object(X.a)({},n.selectedCheckbox,a)),children:a&&Object(p.jsx)(G.a,{name:"done-gen",className:n.doneIcon})})}),Object(p.jsxs)("div",{className:ee()(n.gridBtnsContainer,Object(X.a)({},n.gridSingleBtnContainer,!v)),children:[!f&&v&&Object(p.jsx)("button",{className:n.gridBtn,onClick:function(){return S(e.key)},children:Object(p.jsx)(G.a,{name:"adjust-editor",className:n.gridIcon})}),!f&&Object(p.jsx)("button",{className:n.gridBtn,onClick:function(){return w(e.key)},children:Object(p.jsx)(G.a,{name:"download-editor",className:n.gridIcon})}),f===b.c.remove&&Object(p.jsx)("button",{className:n.gridBtn,onClick:function(){return N(e)},children:Object(p.jsx)(G.a,{name:"eraser-editor",className:n.gridIcon})})]})]})]},e.key)}))})})},It=o(1168),Nt=o.n(It),Rt=o(1169),Tt=o.n(Rt);function zt(e,t,o){for(var r=0,n="".concat(t,".").concat(o);e.file(n);)n="".concat(t,"_").concat(++r,".").concat(o);return n}var Bt=function(){var e=Object(N.a)(I.a.mark((function e(t,o){var r,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Nt.a,n=r.folder(o)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Promise.all(t.map(function(){var e=Object(N.a)(I.a.mark((function e(t,r){var a,i,c,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()}));case 2:a=e.sent,i="".concat(o,"_").concat(r),c=z.a.getExtension(a.type),l=zt(n,i,c),n.file(l,a);case 7:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()));case 6:return e.next=8,r.generateAsync({type:"blob"});case 8:a=e.sent,Tt.a.saveAs(a,"".concat(o,".zip"));case 10:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),Et=Object(K.b)((function(e){return{toolbarContainer:{display:"flex",position:"absolute",top:14,left:"var(--side-gutter)",width:"calc(100% - calc(2 * var(--side-gutter)))",justifyContent:"space-between"},selectAll:{display:"flex",fontSize:14,lineHeight:1.25,color:e.colors.paColor83,alignItems:"center",cursor:"pointer",fontWeight:700},doneIcon:{position:"absolute",width:28,height:28,"& path":{fill:e.colors.paColor82,stroke:""}},checkboxContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:34,height:38,borderRadius:e.variables.mainBorderRadius,marginRight:4,"@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor153}}},toolbarActions:{position:"absolute",right:0,top:0,display:"flex"},toolbarItemContainer:{display:"flex",alignItems:"center",height:38,padding:"0 12px",borderRadius:e.variables.mainBorderRadius,cursor:"pointer",fontWeight:700,"@media(hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor153}}},toolbarItem:{fontSize:14,lineHeight:1.25,color:e.colors.paColor83},toolbarIcon:{marginRight:8,width:24,height:24,"& path":{fill:e.colors.paColor82}}}})),At=function(e){var t=e.onDelete,o=e.onSelectAll,r=e.isAllSelected,n=e.isAllowedDownload,i=Et(),c=Object(U.c)(),l=Object(d.c)(),s=l.dispatchData,u=l.allSelected,j=l.selectedData,h=l.selectedKeys,f=l.setSelectedKeys,g=l.setIsSuccessModal,m=Object(a.useMemo)((function(){return!!h.length&&j.find((function(e){return e.isProcessed}))}),[j,h.length]),v=Object(a.useCallback)(Object(N.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!!j.find((function(e){return e.isProcessed})))){e.next=2;break}return e.abrupt("return");case 2:if(A.b.clickEvent(u?"download_all":"download_selection"),A.b.download(j.length),f([]),1!==j.length){e.next=9;break}return Object(Te.a)(j[0].result.src),g(!0),e.abrupt("return");case 9:return e.next=11,Bt(j.map((function(e){return e.result.src})),b.w);case 11:g(!0);case 12:case"end":return e.stop()}}),e)}))),[u,n,j,g,f]),O=Object(a.useCallback)((function(){A.b.clickEvent("reset"),s({type:d.b.RESET_DATA,keys:h})}),[s,h]);return Object(p.jsxs)("div",{className:i.toolbarContainer,children:[Object(p.jsxs)("div",{className:i.selectAll,onClick:o,children:[Object(p.jsx)("div",{className:i.checkboxContainer,children:Object(p.jsx)(G.a,{name:r?"checkbox-checked-gen":"checkbox-unchecked-gen",className:i.doneIcon})}),c("Select all")]}),Object(p.jsxs)("div",{className:i.toolbarActions,children:[!!h.length&&Object(p.jsxs)("button",{onClick:t,className:i.toolbarItemContainer,"data-test":"delete-button",children:[Object(p.jsx)(G.a,{className:i.toolbarIcon,name:"delete-editor"}),Object(p.jsx)("div",{className:i.toolbarItem,children:c("Delete")})]}),m&&Object(p.jsxs)("button",{onClick:O,className:i.toolbarItemContainer,"data-test":"reset-button",children:[Object(p.jsx)(G.a,{className:i.toolbarIcon,name:"refresh-gen"}),Object(p.jsx)("div",{className:i.toolbarItem,children:c("Reset")})]}),Object(p.jsxs)("button",{className:i.toolbarItemContainer,onClick:v,"data-test":"download-button",children:[Object(p.jsx)(G.a,{className:i.toolbarIcon,name:"download-editor"}),Object(p.jsx)("div",{className:i.toolbarItem,children:c("Download")})]})]})]})},Wt=function(e){var t=e.showDragContent,o=yt(),r=Object(i.e)(),c=Object(U.c)(),l=Object(D.a)(),s=l.user,u=l.subscribed,b=Object(mt.a)(),j=Object(d.c)(),h=j.data,f=j.selectedData,g=j.activeTool,m=j.selectedKeys,O=j.setSelectedKeys,x=j.dispatchData,C=Object(a.useState)(!1),k=Object(n.a)(C,2),y=k[0],w=k[1],S=Object(a.useCallback)((function(){O((function(e){return A.b.clickEvent(e.length?"select_all_canceled":"select_all"),e.length===h.length?[]:h.map((function(e){return e.key}))}))}),[h,O]),I=Object(a.useCallback)((function(e){g||O((function(t){return A.b.clickEvent(t.includes(e)?"item_selection_canceled":"item_selection"),ht()(t,[e])}))}),[O,g]),N=Object(a.useCallback)((function(e){return!(e&&!u)||((null===s||void 0===s?void 0:s.account_type)!==M.rg&&r(v.a.actions.openMonetizationPopup("batch")),b(),!1)}),[null===s||void 0===s?void 0:s.account_type,u,r,b]),R=Object(a.useCallback)((function(e){e===vt.a.acceptRequest&&(A.b.clickEvent("delete"),x({type:d.b.DELETE_DATA,keys:m}),O([])),w(!1)}),[x,m,O]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(vt.b,{show:y,onAction:R,children:Object(p.jsx)("p",{children:c("Selected images will be deleted.")})}),Object(p.jsxs)("div",{className:ee()(o.mainContent),children:[t&&Object(p.jsx)("div",{className:o.dragContent,children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:o.iconContainer,children:Object(p.jsx)(G.a,{name:"upload-gen",className:o.uploadIcon})}),Object(p.jsx)("div",{className:o.dragText,children:c("Drop Images Here")})]})}),!g&&!!h.length&&Object(p.jsx)(At,{onDelete:function(){return w(!0)},onSelectAll:S,isAllSelected:m.length===h.length,isAllowedDownload:N}),h.length?Object(p.jsx)(St,{onSelectImages:I,data:g&&f.length?f:h,isAllowedDownload:N}):Object(p.jsx)(gt,{})]})]})},Pt=o(555);var Dt=function(){var e=Object(d.c)(),t=e.dispatchData,o=e.isSuccessModal,r=e.setIsSuccessModal,n=Object(a.useCallback)((function(){r(!1)}),[r]),i=Object(a.useCallback)((function(){t({type:d.b.DELETE_ALL_DATA}),n()}),[n,t]);return Object(p.jsx)(Pt.a,{isOpen:o,description:M.Yd.imageWasDownloaded,onContinue:n,onCreateNew:i})},Mt=Object(K.b)((function(e){return{batchContainer:{display:"grid",gridAutoFlow:"column",gridTemplateColumns:"260px 1fr",gap:12,width:"100%",minHeight:"100vh",padding:function(e){return e.eraser?null:"16px 24px"},backgroundColor:e.colors.paColor75},batchHelpWidgetWrap:{position:"fixed",right:34,bottom:56,boxShadow:"0 2px 20px ".concat(e.colors.paColor144),borderRadius:e.variables.mainBorderRadius,zIndex:oe.B}}})),Lt=o(1007),Ht=o(444),_t=o(977),Ft=o(409),Gt=o(105),Ut=o(533);var $t=function(){var e=Object(i.e)(),t=Object(d.c)().dispatchData,o=Object(y.a)(w.d),r=Object(a.useState)(),c=Object(n.a)(r,2),l=c[0],s=c[1],u=Object(a.useState)(),b=Object(n.a)(u,2),j=b[0],h=b[1],f=Object(a.useState)(),g=Object(n.a)(f,2),m=g[0],v=g[1],O=Object(_t.a)(l),x=Object(n.a)(O,2),C=x[0],k=x[1];Object(a.useEffect)((function(){o&&!l&&function(){var e=Object(N.a)(I.a.mark((function e(){var t,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.result,e.next=3,Object(rt.a)(t.src);case 3:r=e.sent,s(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,k,l,C]),Object(a.useEffect)((function(){(null===o||void 0===o?void 0:o.pendingResult)&&C&&k&&function(){var e=Object(N.a)(I.a.mark((function e(){var t,r,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=o.pendingResult)||void 0===t?void 0:t.mask)){e.next=7;break}return e.next=4,Object(rt.a)(t.mask);case 4:r=e.sent,(n=Object(Ft.e)(r,l,C,k))&&v(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,k,l,C]),Object(a.useEffect)((function(){(function(){var e=Object(N.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)(Ht.a);case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=Object(a.useCallback)((function(){e(P.a.actions.setEraserItem(null))}),[e]),R=Object(a.useCallback)((function(e){t({type:Gt.a.PUT_DATA,item:e})}),[t]),T=Object(a.useCallback)((function(e){R(e),S()}),[S,R]),z=Object(a.useCallback)(function(){var e=Object(N.a)(I.a.mark((function e(t){var r,n,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!t){e.next=6;break}return r=Object(Ft.e)(t,l,C,k),n=new Ut.a,a=function(){return r.toDataURL()},e.next=6,n.processItem(o,a,T,!0,!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,T,k,l,C]);return(null===o||void 0===o?void 0:o.pendingResult)&&!m?null:Object(p.jsx)(Lt.a,{width:C,height:k,onCancel:S,onApply:z,isPremiumImage:!!(null===o||void 0===o?void 0:o.pendingResult),defaultMask:m,hasPersonCutout:!1,effectImage:l,originalImage:j})};t.default=function(){var e=Object(i.e)(),t=Object(D.a)(),o=t.subscribed,r=t.waitingUser,c=Object(y.a)(w.d),s=Mt({eraser:!!c}),u=Object(a.useState)(!1),d=Object(n.a)(u,2),b=d[0],S=d[1],I="true"===l.a.get(M.D);return Object(h.a)((function(){Object(i.b)((function(){e({type:g.i}),e(m.a.actions.reset()),e(v.a.actions.reset()),e(O.a.actions.reset()),e(x.a.actions.reset())}))})),Object(a.useEffect)((function(){r||A.b.openPage(o)}),[o,r]),Object(f.a)((function(){return P.a.actions.reset()})),W(),Object(p.jsxs)(j,{onDragActive:S,children:[Object(p.jsxs)("div",{className:s.batchContainer,children:[Object(p.jsx)(pt,{}),Object(p.jsx)(Wt,{showDragContent:b}),Object(p.jsx)("div",{className:s.batchHelpWidgetWrap,children:Object(p.jsx)(C.a,{visibleItems:[k.a.help,k.a.feedback]})}),c&&Object(p.jsx)($t,{})]}),Object(p.jsx)(Dt,{}),!I&&Object(p.jsx)(H.a,{data:L.a,isGeneralMessage:!1})]})}},856:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var r,n=o(4),a=o(3),i=o(174),c=o.n(i),l=o(87),s=o(33),u=o(18),d=o.n(u);!function(e){e.closeModal="closeModal",e.declineRequest="declineRequest",e.acceptRequest="acceptRequest"}(r||(r={}));var b=r,p=o(2),j=o(44),h=o(79),f=Object(j.b)((function(e){return{confirmModal:Object(p.a)(Object(p.a)({},h.g),{},{transform:"translate(-50%, -50%)",outline:"none !important",border:"none !important"}),confirmModalOverlay:Object(p.a)({},h.h),confirmModalHeader:h.f,close:h.d,confirmModalText:Object(p.a)(Object(p.a)({},h.j),{},{marginTop:20}),templatesTxt:{display:"flex",justifyContent:"center"},confirmModalChoice:h.c,confirmModalResolve:Object(p.a)(Object(p.a)({},h.b),h.k),confirmModalReject:Object(p.a)(Object(p.a)({},h.b),{},{marginLeft:8}),defaultState:Object(p.a)({},h.e),offlineState:{backgroundColor:e.colors.paColor184}}})),g=o(5),m=b.closeModal,v=b.declineRequest,O=b.acceptRequest,x=function(e){var t,o=e.show,r=e.children,a=e.onAction,i=e.title,u=void 0===i?"Are you sure?":i,b=e.secondChoice,p=void 0===b?"No":b,j=e.firstChoice,h=void 0===j?"Yes":j,x=e.isOffline,C=f(),k=Object(s.c)();return Object(g.jsxs)(c.a,{isOpen:o,ariaHideApp:!1,className:C.confirmModal,overlayClassName:C.confirmModalOverlay,onRequestClose:function(){return a(m)},children:[Object(g.jsx)(l.a,{name:"close-small-gen",className:C.close,onClick:function(){return a(m)}}),Object(g.jsx)("p",{className:C.confirmModalHeader,children:k(u)}),Object(g.jsx)("div",{className:C.confirmModalText,"data-test":"modal root",children:r}),Object(g.jsxs)("div",{className:C.confirmModalChoice,children:[Object(g.jsx)("div",{className:C.confirmModalResolve,onClick:function(){return a(O)},children:k(h)}),Object(g.jsx)("div",{className:d()([C.confirmModalReject],(t={},Object(n.a)(t,C.offlineState,x),Object(n.a)(t,C.defaultState,!x),t)),onClick:function(){return a(v)},children:k(p)})]})]})};t.b=Object(a.memo)(x)},865:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return c})),o.d(t,"a",(function(){return l}));var r=o(180),n=o(1),a=568,i={id:"9f791dea-0176-4341-91ca-6908c978c199",cookieName:n.Nb,slides:[{title:"New Effects Location",text:"We\u2019ve moved the Effects button from the left toolbar to the top. Simply select any image or sticker, then hit the fx button.",src:Object(r.a)("".concat(n.O,"/38633210443142375014.jpg"),a)},{title:"New Uploads Section",text:"Spend less time searching and more time creating. Now all your uploaded images and custom fonts are in one place.",src:Object(r.a)("".concat(n.O,"/28093497622244187275.jpg"),a)}]},c={id:"2d64935e-7e0b-04de-84e0-0d066057e9cd",cookieName:n.ae,slides:[{title:"Access Your Designs on Both Mobile and Web",text:"Take your designs with you wherever you go. Now your designs will be saved to your cloud storage for later use. You can access your designs on both mobile and web in the My Replays section.",src:Object(r.a)("".concat(n.O,"/38848880492908629880.jpg"),a)}]},l={id:"9c98c919-d2f3-4cb4-90e4-bddad06b789d",cookieName:n.D,buttonName:"Start Editing",slides:[{title:"Edit Up to 50 Photos at Once",text:"Use the Batch Editor to remove backgrounds, upscale, and resize your photos simultaneously.",src:Object(r.a)("".concat(n.O,"/80239653004304766815.jpg"),a)}]}},866:function(e,t,o){"use strict";var r=o(15),n=o(3),a=function(){return{width:window.innerWidth,height:window.innerHeight}};t.a=function(){var e=Object(n.useState)(a),t=Object(r.a)(e,2),o=t[0],i=t[1];return Object(n.useEffect)((function(){var e=function(){return i(a())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),o}},880:function(e,t,o){"use strict";var r=o(3),n=o(24),a=o(810);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.a,t=Object(r.useRef)(!1),o=Object(r.useCallback)((function(){setTimeout((function(){t.current&&(t.current=!1,e())}),500),window.removeEventListener("focus",o)}),[e]),i=Object(r.useCallback)((function(){t.current=!0,window.addEventListener("focus",o)}),[o]),c=Object(r.useCallback)((function(){t.current=!1,window.removeEventListener("focus",o)}),[o]);return Object(a.a)((function(){window.removeEventListener("focus",o)})),{uploadClickEvent:i,fileChangeEvent:c}}},886:function(e,t,o){"use strict";var r=o(3);t.a=function(e,t){var o=Object(r.useRef)(),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){o.current=t}),[t]),Object(r.useEffect)((function(){var t=function(e){return o.current&&o.current(e)},r=n.current;return null===r||void 0===r||r.addEventListener(e,t),function(){null===r||void 0===r||r.removeEventListener(e,t)}}),[e]),n}},898:function(e,t,o){"use strict";var r=o(4),n=o(15),a=o(279),i=o(87),c=o(3),l=o(33),s=o(136),u=o.n(s),d=o(18),b=o.n(d),p=o(24),j=o(1),h=o(44),f=Object(h.b)((function(e){return{topWrapper:{textAlign:"center",maxWidth:568,width:"100%"},imgWrapper:{position:"relative",paddingTop:"44.37%"},img:{position:"absolute",top:0,left:0,width:"100%"},closeIcon:{position:"absolute",top:16,right:16,width:24,height:24,padding:2,borderRadius:"50%",cursor:"pointer",backgroundColor:e.colors.paColor146,"& path":{fill:e.colors.paColor9}},textWrapper:{padding:"40px 24px 50px"},title:{marginBottom:12,fontSize:16,fontWeight:700,color:e.colors.paColor6,lineHeight:1.4},text:{marginBottom:20,fontSize:14,fontWeight:500,color:e.colors.paColor10,lineHeight:1.4},indicatorsWrapper:{display:"flex",justifyContent:"center",marginBottom:20},indicatorButton:{width:8,height:8,borderRadius:"50%","& + &":{marginInlineStart:4},color:e.colors.paColor7,backgroundColor:e.colors.paColor317,cursor:"pointer"},activeIndicatorButton:{backgroundColor:e.colors.paColor19,color:e.colors.paColor6},infoButton:{borderRadius:e.variables.mainBorderRadius,padding:"6px 16px",marginBottom:20,backgroundColor:e.colors.paColor1,fontSize:12,fontWeight:600,color:e.colors.paColor9,lineHeight:1.6,cursor:"pointer","@media (hover: hover)":{"&:hover":{backgroundColor:e.colors.paColor44}}}}})),g=o(5);t.a=function(e){var t=e.data,o=t.id,s=t.cookieName,d=t.slides,h=t.buttonName,m=e.onAnalytics,v=void 0===m?p.a:m,O=e.isGeneralMessage,x=void 0===O||O,C=f(),k=Object(l.c)(),y=Object(c.useState)(!1),w=Object(n.a)(y,2),S=w[0],I=w[1],N=Object(c.useState)(0),R=Object(n.a)(N,2),T=R[0],z=R[1],B=d[T],E=T===d.length-1;return Object(c.useEffect)((function(){!u.a.get(j.Fc)&&x||u.a.get(s)!==o&&(I(!0),u.a.set(s,o))}),[x,s,o]),B?Object(g.jsx)(a.a,{isOpen:S,children:Object(g.jsxs)("div",{className:C.topWrapper,children:[Object(g.jsx)("div",{className:C.imgWrapper,children:Object(g.jsx)("img",{src:B.src,alt:"img",className:C.img},B.title)}),Object(g.jsx)(i.a,{name:"close-small-gen",className:C.closeIcon,onClick:function(){return I(!1)}}),Object(g.jsxs)("div",{className:C.textWrapper,children:[Object(g.jsx)("p",{className:C.title,children:k(B.title)}),Object(g.jsx)("p",{className:C.text,children:k(B.text)})]}),d.length>1&&Object(g.jsx)("div",{className:C.indicatorsWrapper,children:d.map((function(e,t){return Object(g.jsx)("button",{className:b()(C.indicatorButton,Object(r.a)({},C.activeIndicatorButton,t===T)),"aria-label":"text",onClick:function(){return z(t)}},e.title)}))}),Object(g.jsx)("button",{className:C.infoButton,onClick:function(){E?(I(!1),v()):z((function(e){return e+1}))},children:k(x?E?"Got It":"Next":h)})]})}):null}},904:function(e,t,o){"use strict";t.a=function(e,t){switch(t){case 1:var o=e.filter((function(e){return"premium"===e.license}));return o.length?o:e;default:return e}}},933:function(e,t,o){"use strict";var r=o(15),n=o(3);t.a=function(e){var t=Object(n.useState)(e),o=Object(r.a)(t,2),a=o[0],i=o[1];return[a,Object(n.useCallback)((function(){return i((function(e){return!e}))}),[])]}},934:function(e,t,o){"use strict";var r=o(7),n=o.n(r),a=o(10),i=o(15),c=o(3),l=o(6),s=o(9),u=o(414),d=o(226),b=o(29),p=o(349),j=o(34);t.a=function(e,t,o){var r=Object(l.b)(s.e),h=Object(c.useState)([]),f=Object(i.a)(h,2),g=f[0],m=f[1],v=Object(c.useState)(-1),O=Object(i.a)(v,2),x=O[0],C=O[1],k=Object(c.useState)(!1),y=Object(i.a)(k,2),w=y[0],S=y[1],I=Object(c.useState)(!1),N=Object(i.a)(I,2),R=N[0],T=N[1];Object(c.useEffect)((function(){R&&m((function(e){return e.slice(0,x+1)}))}),[x,R]);var z=Object(c.useCallback)(function(){var o=Object(a.a)(n.a.mark((function o(a){var i,c,l,s,u,d,p,h,f,m;return n.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!((i=x+a)>=g.length||i<-1)){o.next=3;break}return o.abrupt("return");case 3:if(S(!0),o.prev=4,p=t,f=null,-1===i){o.next=14;break}if(!g[i].lineUrl){o.next=12;break}return o.next=11,Object(b.a)(g[i].lineUrl);case 11:p=o.sent;case 12:g[i].lines&&(h=g[i].lines),f=g[i].appliedRemoverTool;case 14:m=-1===i?null===r||void 0===r||null===(c=r.settings)||void 0===c?void 0:c.toolType:null===(l=g[i])||void 0===l?void 0:l.toolType,T(!1),e({appliedMaskImg:null===(s=g[i])||void 0===s?void 0:s.appliedMaskImg,lineImage:p,isReset:null===(u=g[i])||void 0===u?void 0:u.isReset,line:h,resultUrl:null===(d=g[i])||void 0===d?void 0:d.resultUrl,toolType:m},i,f),C(i),o.next=23;break;case 20:o.prev=20,o.t0=o.catch(4),j.a.trigger(o.t0,"error");case 23:return o.prev=23,S(!1),o.finish(23);case 26:case"end":return o.stop()}}),o,null,[[4,20,23,26]])})));return function(e){return o.apply(this,arguments)}}(),[g,x,e,t,r]),B=Object(c.useCallback)((function(e){if(o&&e){var t=Object(p.r)(e)?-1:Object(p.l)(e)?1:0;t&&z(t)}}),[o,z]);Object(u.a)("keydown",B);var E=Object(c.useCallback)(function(){var e=Object(a.a)(n.a.mark((function e(t,o){var r,a,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x+1,S(!0),T(!0),C(a),!(t.lineImage instanceof HTMLCanvasElement)){e.next=10;break}return e.next=7,Object(d.a)(t.lineImage);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null===(r=t.lineImage)||void 0===r?void 0:r.src;case 11:i=e.t0,m((function(e){var r=e.slice();return r.splice(a,0,{lineUrl:i||"",isReset:t.isReset,lines:t.line,appliedMaskImg:t.appliedMaskImg,resultUrl:t.resultUrl,toolType:null===t||void 0===t?void 0:t.toolType,appliedRemoverTool:o}),r})),S(!1);case 14:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),[x]);return[g,x,w,E,z]}},936:function(e,t,o){"use strict";var r=o(7),n=o.n(r),a=o(10),i=o(15),c=o(3),l=o(884),s=o(853),u=o(1);t.a=function(e){var t=e.width,o=e.height,r=Object(s.a)(u.gh),d=Object(c.useState)(),b=Object(i.a)(d,2),p=b[0],j=b[1];return Object(c.useEffect)((function(){r&&function(){var e=Object(a.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(r,{width:t,height:o});case 2:(a=e.sent)&&j(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r,t,o]),p}},957:function(e,t,o){"use strict";var r=o(4),n=o(18),a=o.n(n),i=o(87),c=o(808),l=o(33),s=o(2),u=o(44),d=Object(u.b)((function(e){return{container:{display:"inline-block",padding:"11px 10px 4px 10px",width:58,cursor:"pointer",border:"1px solid ".concat(e.colors.paColor2),borderRadius:4,marginLeft:16,marginRight:16},containerInvertHover:{"&:hover":{color:e.colors.paColor37,"& path":{fill:e.colors.paColor6},"& p":{color:e.colors.paColor6},border:"1px solid ".concat(e.colors.paColor6)}},containerResetHover:{"&:hover":{color:e.colors.paColor37,"& svg>g>path:first-child":{fill:e.colors.paColor6},"& p":{color:e.colors.paColor6},border:"1px solid ".concat(e.colors.paColor6)}},containerDisabledHover:Object(s.a)({},e.variables.effectItemDisabledState),containerDisabled:Object(s.a)({},e.variables.effectItemNotClickableState),hoverIconContainer:{border:"1px solid ".concat(e.colors.paColor6)},toolIconName:{whiteSpace:"nowrap",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",fontSize:12,fontStyle:"normal",fontWeight:500,lineHeight:"16px",color:e.colors.paColor10},historyToolIcons:{verticalAlign:"top",display:"inline-block",width:e.variables.iconSize,height:e.variables.iconSize,"& svg path":{fill:e.colors.paColor10}},tooltipContainer:{marginTop:16}}})),b=o(5);t.a=function(e){var t,o=e.name,n=e.onClick,s=e.isInvertTool,u=void 0!==s&&s,p=e.icon_name,j=e.isLoading,h=d(),f=Object(l.c)(),g=Object(b.jsxs)("div",{className:a()(h.container,(t={},Object(r.a)(t,h.containerInvertHover,u&&!j),Object(r.a)(t,h.containerResetHover,!u&&!j),Object(r.a)(t,h.containerDisabledHover,j),Object(r.a)(t,h.containerDisabled,j),t)),onClick:n,children:[Object(b.jsx)(i.a,{name:p,className:h.historyToolIcons}),Object(b.jsx)("p",{className:a()(h.toolIconName,"we-reset-button"),children:f(o)})]});return Object(b.jsx)("div",{className:h.tooltipContainer,children:Object(b.jsx)(c.a,{delayShow:1e3,offset:[10,-10],hideArrow:!0,isSmall:!0,content:Object(b.jsx)("p",{children:f(o)}),placement:c.b.bottom,children:g})})}},970:function(e,t,o){"use strict";var r=o(7),n=o.n(r),a=o(10),i=o(40),c=o(42),l=o(1),s=o(64),u=function(){function e(){Object(i.a)(this,e),this.BACKGROUNDS_URL="".concat(l.Ef,"/categories/backgrounds?short=0&limit=-1")}return Object(c.a)(e,[{key:"getBackgrounds",value:function(){var e=Object(a.a)(n.a.mark((function e(t){var o,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)(this.BACKGROUNDS_URL,{headers:{platform:"apple",versioncode:"660",market:"apple","language-code":t}});case 2:return o=e.sent,e.next=5,o.json();case 5:if((r=e.sent).response){e.next=8;break}throw new Error("Bad data");case 8:return e.abrupt("return",r.response);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=new u},977:function(e,t,o){"use strict";var r=o(3),n=o(866);t.a=function(e){var t=Object(n.a)(),o=t.width,a=t.height,i=Object(r.useMemo)((function(){return{passedImageWidth:Number((null===e||void 0===e?void 0:e.width)||0),passedImageHeight:Number((null===e||void 0===e?void 0:e.height)||0)}}),[e]),c=i.passedImageWidth,l=i.passedImageHeight,s=Object(r.useMemo)((function(){return Math.min(.5*o/(c||1),.7*a/(l||1))||0}),[c,l,a,o]);return Object(r.useMemo)((function(){return[c*s,l*s]}),[s,c,l])}}}]);
//# sourceMappingURL=batchPage.4d2780db.chunk.js.map